<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>60.浏览器环境概述 | 极光的编程宝典</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.ico">
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?b2a5032bc0631704ef3523d3aecad2bf";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
      </script>
    <meta name="description" content="贴心的编程学习路线，全面的编程知识百科">
    <meta property="article:modified_time" content="2025-03-02T00:31:22.000Z">
    <meta property="og:site_name" content="极光的编程宝典">
    <meta property="og:title" content="60.浏览器环境概述">
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://springsongs.cn/_59-javascript-engine/">
    <meta name="twitter:title" content="60.浏览器环境概述">
    <meta name="twitter:url" content="http://springsongs.cn/_59-javascript-engine/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="程序员, 编程, 计算机">
    <meta property="article:tag" content="程序员">
    <meta name="keywords" content="程序员极光, 编程学习路线, 编程知识百科, Java, 编程导航, 前端, 开发, 编程分享, 项目, IT, 求职, 面经">
    
    <link rel="preload" href="/assets/css/0.styles.40c15e22.css" as="style"><link rel="preload" href="/assets/js/app.cb2dcffc.js" as="script"><link rel="preload" href="/assets/js/2.2b4f0d90.js" as="script"><link rel="preload" href="/assets/js/60.905b752e.js" as="script"><link rel="prefetch" href="/assets/js/1.17ea1209.js"><link rel="prefetch" href="/assets/js/10.40b6837e.js"><link rel="prefetch" href="/assets/js/100.7b2102f1.js"><link rel="prefetch" href="/assets/js/101.38ebe103.js"><link rel="prefetch" href="/assets/js/102.458eaf4b.js"><link rel="prefetch" href="/assets/js/103.6259cdae.js"><link rel="prefetch" href="/assets/js/104.73dc2bcb.js"><link rel="prefetch" href="/assets/js/105.b45e981d.js"><link rel="prefetch" href="/assets/js/106.a2538570.js"><link rel="prefetch" href="/assets/js/107.0721236b.js"><link rel="prefetch" href="/assets/js/108.774792dd.js"><link rel="prefetch" href="/assets/js/109.25f32198.js"><link rel="prefetch" href="/assets/js/11.78a8555f.js"><link rel="prefetch" href="/assets/js/110.8bd111de.js"><link rel="prefetch" href="/assets/js/111.343d0661.js"><link rel="prefetch" href="/assets/js/112.5fef4453.js"><link rel="prefetch" href="/assets/js/113.c732dcb3.js"><link rel="prefetch" href="/assets/js/114.e5de598f.js"><link rel="prefetch" href="/assets/js/115.c9567572.js"><link rel="prefetch" href="/assets/js/116.fe4ef201.js"><link rel="prefetch" href="/assets/js/117.64d54607.js"><link rel="prefetch" href="/assets/js/118.160fcd98.js"><link rel="prefetch" href="/assets/js/119.2f735537.js"><link rel="prefetch" href="/assets/js/12.0b172d0b.js"><link rel="prefetch" href="/assets/js/120.befdb0de.js"><link rel="prefetch" href="/assets/js/121.33d955f1.js"><link rel="prefetch" href="/assets/js/122.fe22c84e.js"><link rel="prefetch" href="/assets/js/123.22331b86.js"><link rel="prefetch" href="/assets/js/124.14309711.js"><link rel="prefetch" href="/assets/js/125.85e7bf3b.js"><link rel="prefetch" href="/assets/js/126.b8b54bf1.js"><link rel="prefetch" href="/assets/js/127.abb668ed.js"><link rel="prefetch" href="/assets/js/128.fa3f1199.js"><link rel="prefetch" href="/assets/js/129.2b0bbe39.js"><link rel="prefetch" href="/assets/js/13.8352f638.js"><link rel="prefetch" href="/assets/js/130.e8f4f7ed.js"><link rel="prefetch" href="/assets/js/131.c72c81ad.js"><link rel="prefetch" href="/assets/js/132.9feb8e22.js"><link rel="prefetch" href="/assets/js/133.d6908434.js"><link rel="prefetch" href="/assets/js/134.05f4da77.js"><link rel="prefetch" href="/assets/js/135.90c7eb50.js"><link rel="prefetch" href="/assets/js/136.869ad584.js"><link rel="prefetch" href="/assets/js/137.97792026.js"><link rel="prefetch" href="/assets/js/138.3bbd7a44.js"><link rel="prefetch" href="/assets/js/139.d363eb9e.js"><link rel="prefetch" href="/assets/js/14.c7dc96c5.js"><link rel="prefetch" href="/assets/js/140.87e8dbdc.js"><link rel="prefetch" href="/assets/js/141.9ab3f41f.js"><link rel="prefetch" href="/assets/js/142.b68a597a.js"><link rel="prefetch" href="/assets/js/143.1490ffcc.js"><link rel="prefetch" href="/assets/js/144.0ae4a3b7.js"><link rel="prefetch" href="/assets/js/145.89abdd73.js"><link rel="prefetch" href="/assets/js/146.ce758a18.js"><link rel="prefetch" href="/assets/js/147.c1f6cade.js"><link rel="prefetch" href="/assets/js/148.dc03e3c4.js"><link rel="prefetch" href="/assets/js/149.94ad896c.js"><link rel="prefetch" href="/assets/js/15.970a8ca5.js"><link rel="prefetch" href="/assets/js/150.0a93927e.js"><link rel="prefetch" href="/assets/js/151.576d9483.js"><link rel="prefetch" href="/assets/js/152.b9a6257f.js"><link rel="prefetch" href="/assets/js/153.36705b59.js"><link rel="prefetch" href="/assets/js/154.0dab4528.js"><link rel="prefetch" href="/assets/js/155.e4c1f0a8.js"><link rel="prefetch" href="/assets/js/156.fcd18ca7.js"><link rel="prefetch" href="/assets/js/157.ba2aeffe.js"><link rel="prefetch" href="/assets/js/158.6c9692ca.js"><link rel="prefetch" href="/assets/js/159.ca1f90d9.js"><link rel="prefetch" href="/assets/js/16.ac3baac4.js"><link rel="prefetch" href="/assets/js/160.fce712a4.js"><link rel="prefetch" href="/assets/js/161.69d4bfb4.js"><link rel="prefetch" href="/assets/js/162.5c2f6a8c.js"><link rel="prefetch" href="/assets/js/163.21b2091b.js"><link rel="prefetch" href="/assets/js/164.ff90f7f2.js"><link rel="prefetch" href="/assets/js/165.ef8953c7.js"><link rel="prefetch" href="/assets/js/166.0607a605.js"><link rel="prefetch" href="/assets/js/167.e59be6e4.js"><link rel="prefetch" href="/assets/js/168.00450a7a.js"><link rel="prefetch" href="/assets/js/169.0f869ba7.js"><link rel="prefetch" href="/assets/js/17.c186ca40.js"><link rel="prefetch" href="/assets/js/170.7199a58e.js"><link rel="prefetch" href="/assets/js/171.4d0d5982.js"><link rel="prefetch" href="/assets/js/172.a8466884.js"><link rel="prefetch" href="/assets/js/173.060382e6.js"><link rel="prefetch" href="/assets/js/174.d5c6060a.js"><link rel="prefetch" href="/assets/js/175.aa3a6f03.js"><link rel="prefetch" href="/assets/js/176.5c338489.js"><link rel="prefetch" href="/assets/js/177.31365f5f.js"><link rel="prefetch" href="/assets/js/178.b2b6432f.js"><link rel="prefetch" href="/assets/js/179.933bc3c8.js"><link rel="prefetch" href="/assets/js/18.1cdd0514.js"><link rel="prefetch" href="/assets/js/180.4fdb0190.js"><link rel="prefetch" href="/assets/js/181.38c21763.js"><link rel="prefetch" href="/assets/js/182.7007f14b.js"><link rel="prefetch" href="/assets/js/183.508e9042.js"><link rel="prefetch" href="/assets/js/184.8d0577e9.js"><link rel="prefetch" href="/assets/js/185.c3109cea.js"><link rel="prefetch" href="/assets/js/186.b6c16a79.js"><link rel="prefetch" href="/assets/js/187.5bdad3c4.js"><link rel="prefetch" href="/assets/js/188.fcdf51b5.js"><link rel="prefetch" href="/assets/js/189.35d2c642.js"><link rel="prefetch" href="/assets/js/19.5740e4d6.js"><link rel="prefetch" href="/assets/js/190.5719c15b.js"><link rel="prefetch" href="/assets/js/191.104d6789.js"><link rel="prefetch" href="/assets/js/192.9c055e2c.js"><link rel="prefetch" href="/assets/js/193.28db6fc1.js"><link rel="prefetch" href="/assets/js/194.b80e1c6f.js"><link rel="prefetch" href="/assets/js/195.2181b658.js"><link rel="prefetch" href="/assets/js/196.a975799e.js"><link rel="prefetch" href="/assets/js/197.eeb11fba.js"><link rel="prefetch" href="/assets/js/198.600e7918.js"><link rel="prefetch" href="/assets/js/199.bfe393eb.js"><link rel="prefetch" href="/assets/js/20.8885a4fa.js"><link rel="prefetch" href="/assets/js/200.42db9968.js"><link rel="prefetch" href="/assets/js/21.2a33c70e.js"><link rel="prefetch" href="/assets/js/22.3e8347a6.js"><link rel="prefetch" href="/assets/js/23.ceb5a5ff.js"><link rel="prefetch" href="/assets/js/24.94c1913f.js"><link rel="prefetch" href="/assets/js/25.15e1f641.js"><link rel="prefetch" href="/assets/js/26.35b2bbdc.js"><link rel="prefetch" href="/assets/js/27.b7bb1651.js"><link rel="prefetch" href="/assets/js/28.0e2a8d73.js"><link rel="prefetch" href="/assets/js/29.75b0eb30.js"><link rel="prefetch" href="/assets/js/3.4dc033c7.js"><link rel="prefetch" href="/assets/js/30.144f7795.js"><link rel="prefetch" href="/assets/js/31.94347eac.js"><link rel="prefetch" href="/assets/js/32.f09e62f8.js"><link rel="prefetch" href="/assets/js/33.fac289d8.js"><link rel="prefetch" href="/assets/js/34.9d4a72ec.js"><link rel="prefetch" href="/assets/js/35.444b44d9.js"><link rel="prefetch" href="/assets/js/36.898d341e.js"><link rel="prefetch" href="/assets/js/37.1871fcb7.js"><link rel="prefetch" href="/assets/js/38.dae6d526.js"><link rel="prefetch" href="/assets/js/39.20c227fc.js"><link rel="prefetch" href="/assets/js/4.2f502b73.js"><link rel="prefetch" href="/assets/js/40.a6103842.js"><link rel="prefetch" href="/assets/js/41.e7b7f9ba.js"><link rel="prefetch" href="/assets/js/42.a654043a.js"><link rel="prefetch" href="/assets/js/43.bba1a9d8.js"><link rel="prefetch" href="/assets/js/44.3dbd01a2.js"><link rel="prefetch" href="/assets/js/45.80dd57ed.js"><link rel="prefetch" href="/assets/js/46.a201d641.js"><link rel="prefetch" href="/assets/js/47.9fbf4999.js"><link rel="prefetch" href="/assets/js/48.358eabb8.js"><link rel="prefetch" href="/assets/js/49.482a663c.js"><link rel="prefetch" href="/assets/js/5.7b1f056c.js"><link rel="prefetch" href="/assets/js/50.9f268f1e.js"><link rel="prefetch" href="/assets/js/51.89c413e9.js"><link rel="prefetch" href="/assets/js/52.a63d3f58.js"><link rel="prefetch" href="/assets/js/53.b65ce5d2.js"><link rel="prefetch" href="/assets/js/54.45f0a634.js"><link rel="prefetch" href="/assets/js/55.779f8354.js"><link rel="prefetch" href="/assets/js/56.be6c3e80.js"><link rel="prefetch" href="/assets/js/57.44f58b69.js"><link rel="prefetch" href="/assets/js/58.ccbbfec7.js"><link rel="prefetch" href="/assets/js/59.84223063.js"><link rel="prefetch" href="/assets/js/6.056886f1.js"><link rel="prefetch" href="/assets/js/61.723f3baf.js"><link rel="prefetch" href="/assets/js/62.23fa01e7.js"><link rel="prefetch" href="/assets/js/63.9d529e40.js"><link rel="prefetch" href="/assets/js/64.c6265b56.js"><link rel="prefetch" href="/assets/js/65.d7bad889.js"><link rel="prefetch" href="/assets/js/66.691bd12c.js"><link rel="prefetch" href="/assets/js/67.f5f15518.js"><link rel="prefetch" href="/assets/js/68.4c17ec45.js"><link rel="prefetch" href="/assets/js/69.bffdb7a1.js"><link rel="prefetch" href="/assets/js/7.a96cecf9.js"><link rel="prefetch" href="/assets/js/70.6b7e3ef5.js"><link rel="prefetch" href="/assets/js/71.eae234c4.js"><link rel="prefetch" href="/assets/js/72.b274bcb9.js"><link rel="prefetch" href="/assets/js/73.7b173916.js"><link rel="prefetch" href="/assets/js/74.f034a1d0.js"><link rel="prefetch" href="/assets/js/75.6e734b20.js"><link rel="prefetch" href="/assets/js/76.0ceef996.js"><link rel="prefetch" href="/assets/js/77.356495fd.js"><link rel="prefetch" href="/assets/js/78.6e64b1f4.js"><link rel="prefetch" href="/assets/js/79.36d41d48.js"><link rel="prefetch" href="/assets/js/80.36a82a6f.js"><link rel="prefetch" href="/assets/js/81.9772229b.js"><link rel="prefetch" href="/assets/js/82.30a7469f.js"><link rel="prefetch" href="/assets/js/83.98925031.js"><link rel="prefetch" href="/assets/js/84.647f17e5.js"><link rel="prefetch" href="/assets/js/85.726bc73e.js"><link rel="prefetch" href="/assets/js/86.18d8ae98.js"><link rel="prefetch" href="/assets/js/87.00d52060.js"><link rel="prefetch" href="/assets/js/88.ed8002ed.js"><link rel="prefetch" href="/assets/js/89.b3e4cbbe.js"><link rel="prefetch" href="/assets/js/90.bb43135b.js"><link rel="prefetch" href="/assets/js/91.f945c357.js"><link rel="prefetch" href="/assets/js/92.4302c836.js"><link rel="prefetch" href="/assets/js/93.48d38ecf.js"><link rel="prefetch" href="/assets/js/94.8821b1ad.js"><link rel="prefetch" href="/assets/js/95.fd46b465.js"><link rel="prefetch" href="/assets/js/96.08228693.js"><link rel="prefetch" href="/assets/js/97.440dc53d.js"><link rel="prefetch" href="/assets/js/98.0009ee27.js"><link rel="prefetch" href="/assets/js/99.cf83ae3d.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.33b2b47d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.40c15e22.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="极光的编程宝典" class="logo"> <span class="site-name can-hide">极光的编程宝典</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/javascript学习/" class="nav-link">
  JavaScript教程
</a></div><div class="nav-item"><a href="/python学习/" class="nav-link">
  Python教程
</a></div><div class="nav-item"><a href="/c语言学习/" class="nav-link">
  C语言教程
</a></div><div class="nav-item"><a href="/CPP/" class="nav-link">
  C++教程
</a></div><div class="nav-item"><a href="/java学习/" class="nav-link">
  Java教程
</a></div><div class="nav-item"><a href="/Linux/" class="nav-link">
  Linux教程
</a></div><div class="nav-item"><a href="/sql学习/" class="nav-link">
  SQL教程
</a></div><div class="nav-item"><a href="/学习路线/" class="nav-link">
  学习路线
</a></div><div class="nav-item"><a href="/项目推荐/" class="nav-link">
  项目推荐
</a></div><div class="nav-item"><a href="/技术书籍/" class="nav-link">
  技术书籍
</a></div> <a href="https://github.com/springsongs/springsongs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/javascript学习/" class="nav-link">
  JavaScript教程
</a></div><div class="nav-item"><a href="/python学习/" class="nav-link">
  Python教程
</a></div><div class="nav-item"><a href="/c语言学习/" class="nav-link">
  C语言教程
</a></div><div class="nav-item"><a href="/CPP/" class="nav-link">
  C++教程
</a></div><div class="nav-item"><a href="/java学习/" class="nav-link">
  Java教程
</a></div><div class="nav-item"><a href="/Linux/" class="nav-link">
  Linux教程
</a></div><div class="nav-item"><a href="/sql学习/" class="nav-link">
  SQL教程
</a></div><div class="nav-item"><a href="/学习路线/" class="nav-link">
  学习路线
</a></div><div class="nav-item"><a href="/项目推荐/" class="nav-link">
  项目推荐
</a></div><div class="nav-item"><a href="/技术书籍/" class="nav-link">
  技术书籍
</a></div> <a href="https://github.com/springsongs/springsongs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/javascript%E5%AD%A6%E4%B9%A0/" class="sidebar-link">JavaScript学习</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>javascript学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/_1-javascript-%E5%AF%BC%E8%AE%BA/" class="sidebar-link">1.导论</a></li><li><a href="/_2-javascript-javascript-%E8%AF%AD%E8%A8%80%E7%9A%84%E5%8E%86%E5%8F%B2/" class="sidebar-link">2.JavaScript 语言的历史</a></li><li><a href="/_3-javascript-javascript-%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" class="sidebar-link">3.JavaScript 的基本语法</a></li><li><a href="/_4-javascript-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%A6%82%E8%BF%B0/" class="sidebar-link">4.数据类型概述</a></li><li><a href="/_5-javascript-null-undefined-%E5%92%8C%E5%B8%83%E5%B0%94%E5%80%BC/" class="sidebar-link">5.null, undefined 和布尔值</a></li><li><a href="/_6-javascript-%E6%95%B0%E5%80%BC/" class="sidebar-link">6.数值</a></li><li><a href="/_7-javascript-%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="sidebar-link">7.字符串</a></li><li><a href="/_8-javascript-%E5%AF%B9%E8%B1%A1/" class="sidebar-link">8.对象</a></li><li><a href="/_9-javascript-%E5%87%BD%E6%95%B0/" class="sidebar-link">9.函数</a></li><li><a href="/_10-javascript-%E6%95%B0%E7%BB%84/" class="sidebar-link">10.数组</a></li><li><a href="/_11-javascript-%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6/" class="sidebar-link">11.算术运算符</a></li><li><a href="/_12-javascript-%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6/" class="sidebar-link">12.比较运算符</a></li><li><a href="/_13-javascript-%E5%B8%83%E5%B0%94%E8%BF%90%E7%AE%97%E7%AC%A6/" class="sidebar-link">13.布尔运算符</a></li><li><a href="/_14-javascript-%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6/" class="sidebar-link">14.二进制位运算符</a></li><li><a href="/_15-javascript-%E5%85%B6%E4%BB%96%E8%BF%90%E7%AE%97%E7%AC%A6-%E8%BF%90%E7%AE%97%E9%A1%BA%E5%BA%8F/" class="sidebar-link">15.其他运算符，运算顺序</a></li><li><a href="/_16-javascript-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%BD%AC%E6%8D%A2/" class="sidebar-link">16.数据类型的转换</a></li><li><a href="/_17-javascript-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6/" class="sidebar-link">17.错误处理机制</a></li><li><a href="/_18-javascript-%E7%BC%96%E7%A8%8B%E9%A3%8E%E6%A0%BC/" class="sidebar-link">18.编程风格</a></li><li><a href="/_19-javascript-console-%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%8E%A7%E5%88%B6%E5%8F%B0/" class="sidebar-link">19.console 对象与控制台</a></li><li><a href="/_20-javascript-object-%E5%AF%B9%E8%B1%A1/" class="sidebar-link">20.Object 对象</a></li><li><a href="/_21-javascript-%E5%B1%9E%E6%80%A7%E6%8F%8F%E8%BF%B0%E5%AF%B9%E8%B1%A1/" class="sidebar-link">21.属性描述对象</a></li><li><a href="/_22-javascript-array-%E5%AF%B9%E8%B1%A1/" class="sidebar-link">22.Array 对象</a></li><li><a href="/_23-javascript-%E5%8C%85%E8%A3%85%E5%AF%B9%E8%B1%A1/" class="sidebar-link">23.包装对象</a></li><li><a href="/_24-javascript-boolean-%E5%AF%B9%E8%B1%A1/" class="sidebar-link">24.Boolean 对象</a></li><li><a href="/_25-javascript-number-%E5%AF%B9%E8%B1%A1/" class="sidebar-link">25.Number 对象</a></li><li><a href="/_26-javascript-string-%E5%AF%B9%E8%B1%A1/" class="sidebar-link">26.String 对象</a></li><li><a href="/_27-javascript-math-%E5%AF%B9%E8%B1%A1/" class="sidebar-link">27.Math 对象</a></li><li><a href="/_28-javascript-date-%E5%AF%B9%E8%B1%A1/" class="sidebar-link">28.Date 对象</a></li><li><a href="/_29-javascript-regexp-%E5%AF%B9%E8%B1%A1/" class="sidebar-link">29.RegExp 对象</a></li><li><a href="/_30-javascript-json-%E5%AF%B9%E8%B1%A1/" class="sidebar-link">30.JSON 对象</a></li><li><a href="/_31-javascript-%E5%AE%9E%E4%BE%8B%E5%AF%B9%E8%B1%A1%E4%B8%8E-new-%E5%91%BD%E4%BB%A4/" class="sidebar-link">31.实例对象与 new 命令</a></li><li><a href="/_32-javascript-this-%E5%85%B3%E9%94%AE%E5%AD%97/" class="sidebar-link">32.this 关键字</a></li><li><a href="/_33-javascript-%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%BB%A7%E6%89%BF/" class="sidebar-link">33.对象的继承</a></li><li><a href="/_34-javascript-object-%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%9B%B8%E5%85%B3%E6%96%B9%E6%B3%95/" class="sidebar-link">34.Object 对象的相关方法</a></li><li><a href="/_35-javascript-%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F/" class="sidebar-link">35.严格模式</a></li><li><a href="/_36-javascript-%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C%E6%A6%82%E8%BF%B0/" class="sidebar-link">36.异步操作概述</a></li><li><a href="/_37-javascript-%E5%AE%9A%E6%97%B6%E5%99%A8/" class="sidebar-link">37.定时器</a></li><li><a href="/_38-javascript-promise-%E5%AF%B9%E8%B1%A1/" class="sidebar-link">38.Promise 对象</a></li><li><a href="/_39-javascript-dom-%E6%A6%82%E8%BF%B0/" class="sidebar-link">39.DOM 概述</a></li><li><a href="/_40-javascript-node-%E6%8E%A5%E5%8F%A3/" class="sidebar-link">40.Node 接口</a></li><li><a href="/_41-javascript-nodelist-%E6%8E%A5%E5%8F%A3-htmlcollection-%E6%8E%A5%E5%8F%A3/" class="sidebar-link">41.NodeList 接口，HTMLCollection 接口</a></li><li><a href="/_42-javascript-parentnode-%E6%8E%A5%E5%8F%A3-childnode-%E6%8E%A5%E5%8F%A3/" class="sidebar-link">42.ParentNode 接口，ChildNode 接口</a></li><li><a href="/_43-javascript-document-%E8%8A%82%E7%82%B9/" class="sidebar-link">43.Document 节点</a></li><li><a href="/_44-javascript-element-%E8%8A%82%E7%82%B9/" class="sidebar-link">44.Element 节点</a></li><li><a href="/_45-javascript-%E5%B1%9E%E6%80%A7%E7%9A%84%E6%93%8D%E4%BD%9C/" class="sidebar-link">45.属性的操作</a></li><li><a href="/_46-javascript-text-%E8%8A%82%E7%82%B9%E5%92%8C-documentfragment-%E8%8A%82%E7%82%B9/" class="sidebar-link">46.Text 节点和 DocumentFragment 节点</a></li><li><a href="/_47-javascript-css-%E6%93%8D%E4%BD%9C/" class="sidebar-link">47.CSS 操作</a></li><li><a href="/_48-javascript-mutation-observer-api/" class="sidebar-link">48.Mutation Observer API</a></li><li><a href="/_49-javascript-eventtarget/" class="sidebar-link">49.EventTarget 接口</a></li><li><a href="/_50-javascript-model/" class="sidebar-link">50.事件模型</a></li><li><a href="/_51-javascript-mouse/" class="sidebar-link">51.鼠标事件</a></li><li><a href="/_52-javascript-keyboard/" class="sidebar-link">52.键盘事件</a></li><li><a href="/_53-javascript-event/" class="sidebar-link">53.Event 对象</a></li><li><a href="/_53-javascript-progress/" class="sidebar-link">54.进度事件</a></li><li><a href="/_54-javascript-form/" class="sidebar-link">55.表单事件</a></li><li><a href="/_55-javascript-touch/" class="sidebar-link">56.触摸事件</a></li><li><a href="/_56-javascript-drag/" class="sidebar-link">57.拖拉事件</a></li><li><a href="/_57-javascript-common/" class="sidebar-link">58.其他常见事件</a></li><li><a href="/_58-javascript-globaleventhandlers/" class="sidebar-link">59.GlobalEventHandlers 接口</a></li><li><a href="/_59-javascript-engine/" aria-current="page" class="active sidebar-link">60.浏览器环境概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/_59-javascript-engine/#代码嵌入网页的方法" class="sidebar-link">代码嵌入网页的方法</a></li><li class="sidebar-sub-header"><a href="/_59-javascript-engine/#script-元素" class="sidebar-link">script 元素</a></li><li class="sidebar-sub-header"><a href="/_59-javascript-engine/#浏览器的组成" class="sidebar-link">浏览器的组成</a></li><li class="sidebar-sub-header"><a href="/_59-javascript-engine/#参考链接" class="sidebar-link">参考链接</a></li></ul></li><li><a href="/_60-javascript-window/" class="sidebar-link">61.window 对象</a></li><li><a href="/_61-javascript-navigator/" class="sidebar-link">62.Navigator 对象，Screen 对象。</a></li><li><a href="/_62-javascript-cookie/" class="sidebar-link">63.Cookie</a></li><li><a href="/_63-javascript-xmlhttprequest/" class="sidebar-link">64.XMLHttpRequest 对象</a></li><li><a href="/_64-javascript-same-origin/" class="sidebar-link">65.同源限制</a></li><li><a href="/_65-javascript-cors/" class="sidebar-link">66.CORS 通信</a></li><li><a href="/_66-javascript-storage/" class="sidebar-link">67.Storage 接口</a></li><li><a href="/_67-javascript-history/" class="sidebar-link">68.History 对象</a></li><li><a href="/_68-javascript-location/" class="sidebar-link">69.Location 对象，URL 对象，URLSearchParams 对象</a></li><li><a href="/_69-javascript-arraybuffer/" class="sidebar-link">70.ArrayBuffer 对象，Blob 对象</a></li><li><a href="/_70-javascript-file/" class="sidebar-link">71.File 对象，FileList 对象，FileReader 对象</a></li><li><a href="/_71-javascript-%E8%A1%A8%E5%8D%95-formdata-%E5%AF%B9%E8%B1%A1/" class="sidebar-link">72.表单，FormData 对象</a></li><li><a href="/_72-javascript-indexeddb/" class="sidebar-link">73.IndexedDB API</a></li><li><a href="/_73-javascript-webworker/" class="sidebar-link">74.Web Worker</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content"><div style="width:100%"><div class="theme-default-content custom-content content__default"><h1 id="_60-浏览器环境概述"><a href="#_60-浏览器环境概述" class="header-anchor">#</a> 60.浏览器环境概述</h1> <p>JavaScript 是浏览器的内置脚本语言。也就是说，浏览器内置了 JavaScript 引擎，并且提供各种接口，让 JavaScript 脚本可以控制浏览器的各种功能。一旦网页内嵌了 JavaScript 脚本，浏览器加载网页，就会去执行脚本，从而达到操作浏览器的目的，实现网页的各种动态效果。</p> <p>本章开始介绍浏览器提供的各种 JavaScript 接口。首先，介绍 JavaScript 代码嵌入网页的方法。</p> <h2 id="代码嵌入网页的方法"><a href="#代码嵌入网页的方法" class="header-anchor">#</a> 代码嵌入网页的方法</h2> <p>网页中嵌入 JavaScript 代码，主要有四种方法。</p> <ul><li><code>&lt;script&gt;</code>元素直接嵌入代码。</li> <li><code>&lt;script&gt;</code>标签加载外部脚本</li> <li>事件属性</li> <li>URL 协议</li></ul> <h3 id="script-元素嵌入代码"><a href="#script-元素嵌入代码" class="header-anchor">#</a> script 元素嵌入代码</h3> <p><code>&lt;script&gt;</code>元素内部可以直接写入 JavaScript 代码。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>&lt;script&gt;</code>标签有一个<code>type</code>属性，用来指定脚本类型。对 JavaScript 脚本来说，<code>type</code>属性可以设为两种值。</p> <ul><li><code>text/javascript</code>：这是默认值，也是历史上一贯设定的值。如果你省略<code>type</code>属性，默认就是这个值。对于老式浏览器，设为这个值比较好。</li> <li><code>application/javascript</code>：对于较新的浏览器，建议设为这个值。</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>application/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>由于<code>&lt;script&gt;</code>标签默认就是 JavaScript 代码。所以，嵌入 JavaScript 脚本时，<code>type</code>属性可以省略。</p> <p>如果<code>type</code>属性的值，浏览器不认识，那么它不会执行其中的代码。利用这一点，可以在<code>&lt;script&gt;</code>标签之中嵌入任意的文本内容，只要加上一个浏览器不认识的<code>type</code>属性即可。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mydata<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>x-custom-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上面的代码，浏览器不会执行，也不会显示它的内容，因为不认识它的<code>type</code>属性。但是，这个<code>&lt;script&gt;</code>节点依然存在于 DOM 之中，可以使用<code>&lt;script&gt;</code>节点的<code>text</code>属性读出它的内容。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'mydata'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text
<span class="token comment">//   console.log('Hello World');</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="script-元素加载外部脚本"><a href="#script-元素加载外部脚本" class="header-anchor">#</a> script 元素加载外部脚本</h3> <p><code>&lt;script&gt;</code>标签也可以指定加载外部的脚本文件。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.example.com/script.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果脚本文件使用了非英语字符，还应该注明字符的编码。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.example.com/script.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>所加载的脚本必须是纯的 JavaScript 代码，不能有<code>HTML</code>代码和<code>&lt;script&gt;</code>标签。</p> <p>加载外部脚本和直接添加代码块，这两种方法不能混用。下面代码的<code>console.log</code>语句直接被忽略。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello World!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>为了防止攻击者篡改外部脚本，<code>script</code>标签允许设置一个<code>integrity</code>属性，写入该外部脚本的 Hash 签名，用来验证脚本的一致性。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/assets/application.js<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sha256-TvVUHzSfftWg1rcfL6TIJ0XKEGrgLyEq6lEpcmrG9qs=<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上面代码中，<code>script</code>标签有一个<code>integrity</code>属性，指定了外部脚本<code>/assets/application.js</code>的 SHA256 签名。一旦有人改了这个脚本，导致 SHA256 签名不匹配，浏览器就会拒绝加载。</p> <h3 id="事件属性"><a href="#事件属性" class="header-anchor">#</a> 事件属性</h3> <p>网页元素的事件属性（比如<code>onclick</code>和<code>onmouseover</code>），可以写入 JavaScript 代码。当指定事件发生时，就会调用这些代码。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myBtn<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面的事件属性代码只有一个语句。如果有多个语句，使用分号分隔即可。</p> <h3 id="url-协议"><a href="#url-协议" class="header-anchor">#</a> URL 协议</h3> <p>URL 支持<code>javascript:</code>协议，即在 URL 的位置写入代码，使用这个 URL 的时候就会执行 JavaScript 代码。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:console.log('Hello')<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>浏览器的地址栏也可以执行<code>javascript:</code>协议。将<code>javascript:console.log('Hello')</code>放入地址栏，按回车键也会执行这段代码。</p> <p>如果 JavaScript 代码返回一个字符串，浏览器就会新建一个文档，展示这个字符串的内容，原有文档的内容都会消失。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript: new Date().toLocaleTimeString();<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面代码中，用户点击链接以后，会打开一个新文档，里面有当前时间。</p> <p>如果返回的不是字符串，那么浏览器不会新建文档，也不会跳转。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;javascript: console.log(new Date().toLocaleTimeString())&quot;</span><span class="token operator">&gt;</span>点击<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面代码中，用户点击链接后，网页不会跳转，只会在控制台显示当前时间。</p> <p><code>javascript:</code>协议的常见用途是书签脚本 Bookmarklet。由于浏览器的书签保存的是一个网址，所以<code>javascript:</code>网址也可以保存在里面，用户选择这个书签的时候，就会在当前页面执行这个脚本。为了防止书签替换掉当前文档，可以在脚本前加上<code>void</code>，或者在脚本最后加上<code>void 0</code>。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript: void new Date().toLocaleTimeString();<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript: new Date().toLocaleTimeString();void 0;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面这两种写法，点击链接后，执行代码都不会网页跳转。</p> <h2 id="script-元素"><a href="#script-元素" class="header-anchor">#</a> script 元素</h2> <h3 id="工作原理"><a href="#工作原理" class="header-anchor">#</a> 工作原理</h3> <p>浏览器加载 JavaScript 脚本，主要通过<code>&lt;script&gt;</code>元素完成。正常的网页加载流程是这样的。</p> <ol><li>浏览器一边下载 HTML 网页，一边开始解析。也就是说，不等到下载完，就开始解析。</li> <li>解析过程中，浏览器发现<code>&lt;script&gt;</code>元素，就暂停解析，把网页渲染的控制权转交给 JavaScript 引擎。</li> <li>如果<code>&lt;script&gt;</code>元素引用了外部脚本，就下载该脚本再执行，否则就直接执行代码。</li> <li>JavaScript 引擎执行完毕，控制权交还渲染引擎，恢复往下解析 HTML 网页。</li></ol> <p>加载外部脚本时，浏览器会暂停页面渲染，等待脚本下载并执行完成后，再继续渲染。原因是 JavaScript 代码可以修改 DOM，所以必须把控制权让给它，否则会导致复杂的线程竞赛的问题。</p> <p>如果外部脚本加载时间很长（一直无法完成下载），那么浏览器就会一直等待脚本下载完成，造成网页长时间失去响应，浏览器就会呈现“假死”状态，这被称为“阻塞效应”。</p> <p>为了避免这种情况，较好的做法是将<code>&lt;script&gt;</code>标签都放在页面底部，而不是头部。这样即使遇到脚本失去响应，网页主体的渲染也已经完成了，用户至少可以看到内容，而不是面对一张空白的页面。如果某些脚本代码非常重要，一定要放在页面头部的话，最好直接将代码写入页面，而不是连接外部脚本文件，这样能缩短加载时间。</p> <p>脚本文件都放在网页尾部加载，还有一个好处。因为在 DOM 结构生成之前就调用 DOM 节点，JavaScript 会报错，如果脚本都在网页尾部加载，就不存在这个问题，因为这时 DOM 肯定已经生成了。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面代码执行时会报错，因为此时<code>document.body</code>元素还未生成。</p> <p>一种解决方法是设定<code>DOMContentLoaded</code>事件的回调函数。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
      <span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span>
      <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>上面代码中，指定<code>DOMContentLoaded</code>事件发生后，才开始执行相关代码。<code>DOMContentLoaded</code>事件只有在 DOM 结构生成之后才会触发。</p> <p>另一种解决方法是，使用<code>&lt;script&gt;</code>标签的<code>onload</code>属性。当<code>&lt;script&gt;</code>标签指定的外部脚本文件下载和解析完成，会触发一个<code>load</code>事件，可以把所需执行的代码，放在这个事件的回调函数里面。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jquery.min.js<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">onload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>但是，如果将脚本放在页面底部，就可以完全按照正常的方式写，上面两种方式都不需要。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 其他代码  --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>如果有多个<code>script</code>标签，比如下面这样。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>浏览器会同时并行下载<code>a.js</code>和<code>b.js</code>，但是，执行时会保证先执行<code>a.js</code>，然后再执行<code>b.js</code>，即使后者先下载完成，也是如此。也就是说，脚本的执行顺序由它们在页面中的出现顺序决定，这是为了保证脚本之间的依赖关系不受到破坏。当然，加载这两个脚本都会产生“阻塞效应”，必须等到它们都加载完成，浏览器才会继续页面渲染。</p> <p>解析和执行 CSS，也会产生阻塞。Firefox 浏览器会等到脚本前面的所有样式表，都下载并解析完，再执行脚本；Webkit则是一旦发现脚本引用了样式，就会暂停执行脚本，等到样式表下载并解析完，再恢复执行。</p> <p>此外，对于来自同一个域名的资源，比如脚本文件、样式表文件、图片文件等，浏览器一般有限制，同时最多下载6～20个资源，即最多同时打开的 TCP 连接有限制，这是为了防止对服务器造成太大压力。如果是来自不同域名的资源，就没有这个限制。所以，通常把静态文件放在不同的域名之下，以加快下载速度。</p> <h3 id="defer-属性"><a href="#defer-属性" class="header-anchor">#</a> defer 属性</h3> <p>为了解决脚本文件下载阻塞网页渲染的问题，一个方法是对<code>&lt;script&gt;</code>元素加入<code>defer</code>属性。它的作用是延迟脚本的执行，等到 DOM 加载生成后，再执行脚本。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">defer</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">defer</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面代码中，只有等到 DOM 加载完成后，才会执行<code>a.js</code>和<code>b.js</code>。</p> <p><code>defer</code>属性的运行流程如下。</p> <ol><li>浏览器开始解析 HTML 网页。</li> <li>解析过程中，发现带有<code>defer</code>属性的<code>&lt;script&gt;</code>元素。</li> <li>浏览器继续往下解析 HTML 网页，同时并行下载<code>&lt;script&gt;</code>元素加载的外部脚本。</li> <li>浏览器完成解析 HTML 网页，此时再回过头执行已经下载完成的脚本。</li></ol> <p>有了<code>defer</code>属性，浏览器下载脚本文件的时候，不会阻塞页面渲染。下载的脚本文件在<code>DOMContentLoaded</code>事件触发前执行（即刚刚读取完<code>&lt;/html&gt;</code>标签），而且可以保证执行顺序就是它们在页面上出现的顺序。</p> <p>对于内置而不是加载外部脚本的<code>script</code>标签，以及动态生成的<code>script</code>标签，<code>defer</code>属性不起作用。另外，使用<code>defer</code>加载的外部脚本不应该使用<code>document.write</code>方法。</p> <h3 id="async-属性"><a href="#async-属性" class="header-anchor">#</a> async 属性</h3> <p>解决“阻塞效应”的另一个方法是对<code>&lt;script&gt;</code>元素加入<code>async</code>属性。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">async</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">async</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>async</code>属性的作用是，使用另一个进程下载脚本，下载时不会阻塞渲染。</p> <ol><li>浏览器开始解析 HTML 网页。</li> <li>解析过程中，发现带有<code>async</code>属性的<code>script</code>标签。</li> <li>浏览器继续往下解析 HTML 网页，同时并行下载<code>&lt;script&gt;</code>标签中的外部脚本。</li> <li>脚本下载完成，浏览器暂停解析 HTML 网页，开始执行下载的脚本。</li> <li>脚本执行完毕，浏览器恢复解析 HTML 网页。</li></ol> <p><code>async</code>属性可以保证脚本下载的同时，浏览器继续渲染。需要注意的是，一旦采用这个属性，就无法保证脚本的执行顺序。哪个脚本先下载结束，就先执行那个脚本。另外，使用<code>async</code>属性的脚本文件里面的代码，不应该使用<code>document.write</code>方法。</p> <p><code>defer</code>属性和<code>async</code>属性到底应该使用哪一个？</p> <p>一般来说，如果脚本之间没有依赖关系，就使用<code>async</code>属性，如果脚本之间有依赖关系，就使用<code>defer</code>属性。如果同时使用<code>async</code>和<code>defer</code>属性，后者不起作用，浏览器行为由<code>async</code>属性决定。</p> <h3 id="脚本的动态加载"><a href="#脚本的动态加载" class="header-anchor">#</a> 脚本的动态加载</h3> <p><code>&lt;script&gt;</code>元素还可以动态生成，生成后再插入页面，从而实现脚本的动态加载。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token string">'a.js'</span><span class="token punctuation">,</span> <span class="token string">'b.js'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这种方法的好处是，动态生成的<code>script</code>标签不会阻塞页面渲染，也就不会造成浏览器假死。但是问题在于，这种方法无法保证脚本的执行顺序，哪个脚本文件先下载完成，就先执行哪个。</p> <p>如果想避免这个问题，可以设置async属性为<code>false</code>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token string">'a.js'</span><span class="token punctuation">,</span> <span class="token string">'b.js'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>async <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>上面的代码不会阻塞页面渲染，而且可以保证<code>b.js</code>在<code>a.js</code>后面执行。不过需要注意的是，在这段代码后面加载的脚本文件，会因此都等待<code>b.js</code>执行完成后再执行。</p> <p>如果想为动态加载的脚本指定回调函数，可以使用下面的写法。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token parameter">src<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> js <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  js<span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span>
  js<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  js<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Failed to load script '</span> <span class="token operator">+</span> src<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>js<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="加载使用的协议"><a href="#加载使用的协议" class="header-anchor">#</a> 加载使用的协议</h3> <p>如果不指定协议，浏览器默认采用 HTTP 协议下载。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面的<code>example.js</code>默认就是采用 HTTP 协议下载，如果要采用 HTTPS 协议下载，必需写明。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>但是有时我们会希望，根据页面本身的协议来决定加载协议，这时可以采用下面的写法。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="浏览器的组成"><a href="#浏览器的组成" class="header-anchor">#</a> 浏览器的组成</h2> <p>浏览器的核心是两部分：渲染引擎和 JavaScript 解释器（又称 JavaScript 引擎）。</p> <h3 id="渲染引擎"><a href="#渲染引擎" class="header-anchor">#</a> 渲染引擎</h3> <p>渲染引擎的主要作用是，将网页代码渲染为用户视觉可以感知的平面文档。</p> <p>不同的浏览器有不同的渲染引擎。</p> <ul><li>Firefox：Gecko 引擎</li> <li>Safari：WebKit 引擎</li> <li>Chrome：Blink 引擎</li> <li>IE: Trident 引擎</li> <li>Edge: EdgeHTML 引擎</li></ul> <p>渲染引擎处理网页，通常分成四个阶段。</p> <ol><li>解析代码：HTML 代码解析为 DOM，CSS 代码解析为 CSSOM（CSS Object Model）。</li> <li>对象合成：将 DOM 和 CSSOM 合成一棵渲染树（render tree）。</li> <li>布局：计算出渲染树的布局（layout）。</li> <li>绘制：将渲染树绘制到屏幕。</li></ol> <p>以上四步并非严格按顺序执行，往往第一步还没完成，第二步和第三步就已经开始了。所以，会看到这种情况：网页的 HTML 代码还没下载完，但浏览器已经显示出内容了。</p> <h3 id="重流和重绘"><a href="#重流和重绘" class="header-anchor">#</a> 重流和重绘</h3> <p>渲染树转换为网页布局，称为“布局流”（flow）；布局显示到页面的这个过程，称为“绘制”（paint）。它们都具有阻塞效应，并且会耗费很多时间和计算资源。</p> <p>页面生成以后，脚本操作和样式表操作，都会触发“重流”（reflow）和“重绘”（repaint）。用户的互动也会触发重流和重绘，比如设置了鼠标悬停（<code>a:hover</code>）效果、页面滚动、在输入框中输入文本、改变窗口大小等等。</p> <p>重流和重绘并不一定一起发生，重流必然导致重绘，重绘不一定需要重流。比如改变元素颜色，只会导致重绘，而不会导致重流；改变元素的布局，则会导致重绘和重流。</p> <p>大多数情况下，浏览器会智能判断，将重流和重绘只限制到相关的子树上面，最小化所耗费的代价，而不会全局重新生成网页。</p> <p>作为开发者，应该尽量设法降低重绘的次数和成本。比如，尽量不要变动高层的 DOM 元素，而以底层 DOM 元素的变动代替；再比如，重绘<code>table</code>布局和<code>flex</code>布局，开销都会比较大。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> foo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'foobar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

foo<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'blue'</span><span class="token punctuation">;</span>
foo<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> <span class="token string">'30px'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上面的代码只会导致一次重绘，因为浏览器会累积 DOM 变动，然后一次性执行。</p> <p>下面是一些优化技巧。</p> <ul><li>读取 DOM 或者写入 DOM，尽量写在一起，不要混杂。不要读取一个 DOM 节点，然后立刻写入，接着再读取一个 DOM 节点。</li> <li>缓存 DOM 信息。</li> <li>不要一项一项地改变样式，而是使用 CSS class 一次性改变样式。</li> <li>使用<code>documentFragment</code>操作 DOM</li> <li>动画使用<code>absolute</code>定位或<code>fixed</code>定位，这样可以减少对其他元素的影响。</li> <li>只在必要时才显示隐藏元素。</li> <li>使用<code>window.requestAnimationFrame()</code>，因为它可以把代码推迟到下一次重绘之前执行，而不是立即要求页面重绘。</li> <li>使用虚拟 DOM（virtual DOM）库。</li></ul> <p>下面是一个<code>window.requestAnimationFrame()</code>对比效果的例子。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 重流代价高</span>
<span class="token keyword">function</span> <span class="token function">doubleHeight</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> currentHeight <span class="token operator">=</span> element<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
  element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token punctuation">(</span>currentHeight <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

all_my_elements<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>doubleHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 重绘代价低</span>
<span class="token keyword">function</span> <span class="token function">doubleHeight</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> currentHeight <span class="token operator">=</span> element<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>

  window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token punctuation">(</span>currentHeight <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

all_my_elements<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>doubleHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>上面的第一段代码，每读一次 DOM，就写入新的值，会造成不停的重排和重流。第二段代码把所有的写操作，都累积在一起，从而 DOM 代码变动的代价就最小化了。</p> <h3 id="javascript-引擎"><a href="#javascript-引擎" class="header-anchor">#</a> JavaScript 引擎</h3> <p>JavaScript 引擎的主要作用是，读取网页中的 JavaScript 代码，对其处理后运行。</p> <p>JavaScript 是一种解释型语言，也就是说，它不需要编译，由解释器实时运行。这样的好处是运行和修改都比较方便，刷新页面就可以重新解释；缺点是每次运行都要调用解释器，系统开销较大，运行速度慢于编译型语言。</p> <p>为了提高运行速度，目前的浏览器都将 JavaScript 进行一定程度的编译，生成类似字节码（bytecode）的中间代码，以提高运行速度。</p> <p>早期，浏览器内部对 JavaScript 的处理过程如下：</p> <ol><li>读取代码，进行词法分析（Lexical analysis），将代码分解成词元（token）。</li> <li>对词元进行语法分析（parsing），将代码整理成“语法树”（syntax tree）。</li> <li>使用“翻译器”（translator），将代码转为字节码（bytecode）。</li> <li>使用“字节码解释器”（bytecode interpreter），将字节码转为机器码。</li></ol> <p>逐行解释将字节码转为机器码，是很低效的。为了提高运行速度，现代浏览器改为采用“即时编译”（Just In Time compiler，缩写 JIT），即字节码只在运行时编译，用到哪一行就编译哪一行，并且把编译结果缓存（inline cache）。通常，一个程序被经常用到的，只是其中一小部分代码，有了缓存的编译结果，整个程序的运行速度就会显著提升。</p> <p>字节码不能直接运行，而是运行在一个虚拟机（Virtual Machine）之上，一般也把虚拟机称为 JavaScript 引擎。并非所有的 JavaScript 虚拟机运行时都有字节码，有的 JavaScript 虚拟机基于源码，即只要有可能，就通过 JIT（just in time）编译器直接把源码编译成机器码运行，省略字节码步骤。这一点与其他采用虚拟机（比如 Java）的语言不尽相同。这样做的目的，是为了尽可能地优化代码、提高性能。下面是目前最常见的一些 JavaScript 虚拟机：</p> <ul><li><a href="https://en.wikipedia.org/wiki/Chakra_(JScript_engine)" target="_blank" rel="noopener noreferrer">Chakra<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (Microsoft Internet Explorer)</li> <li><a href="http://en.wikipedia.org/wiki/WebKit#JavaScriptCore" target="_blank" rel="noopener noreferrer">Nitro/JavaScript Core<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (Safari)</li> <li><a href="http://dev.opera.com/articles/view/labs-carakan/" target="_blank" rel="noopener noreferrer">Carakan<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (Opera)</li> <li><a href="https://developer.mozilla.org/en-US/docs/SpiderMonkey" target="_blank" rel="noopener noreferrer">SpiderMonkey<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (Firefox)</li> <li><a href="https://en.wikipedia.org/wiki/Chrome_V8" target="_blank" rel="noopener noreferrer">V8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (Chrome, Chromium)</li></ul> <h2 id="参考链接"><a href="#参考链接" class="header-anchor">#</a> 参考链接</h2> <ul><li>John Dalziel, <a href="http://creativejs.com/2013/06/the-race-for-speed-part-2-how-javascript-compilers-work/" target="_blank" rel="noopener noreferrer">The race for speed part 2: How JavaScript compilers work<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Jake Archibald, <a href="http://www.html5rocks.com/en/tutorials/speed/script-loading/" target="_blank" rel="noopener noreferrer">Deep dive into the murky waters of script loading<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Mozilla Developer Network, <a href="https://developer.mozilla.org/en-US/docs/Web/API/window.setTimeout" target="_blank" rel="noopener noreferrer">window.setTimeout<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Remy Sharp, <a href="http://remysharp.com/2010/07/21/throttling-function-calls/" target="_blank" rel="noopener noreferrer">Throttling function calls<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Ayman Farhat, <a href="http://www.thecodeship.com/web-development/alternative-to-javascript-evil-setinterval/" target="_blank" rel="noopener noreferrer">An alternative to JavaScript's evil setInterval<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Ilya Grigorik, <a href="https://www.igvita.com/2014/05/20/script-injected-async-scripts-considered-harmful/" target="_blank" rel="noopener noreferrer">Script-injected &quot;async scripts&quot; considered harmful<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Axel Rauschmayer, <a href="http://www.2ality.com/2014/09/es6-promises-foundations.html" target="_blank" rel="noopener noreferrer">ECMAScript 6 promises (1/2): foundations<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Daniel Imms, <a href="http://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html" target="_blank" rel="noopener noreferrer">async vs defer attributes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Craig Buckler, <a href="http://www.sitepoint.com/non-blocking-async-defer/" target="_blank" rel="noopener noreferrer">Load Non-blocking JavaScript with HTML5 Async and Defer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Domenico De Felice, <a href="https://domenicodefelice.blogspot.com/2015/08/how-browsers-work.html" target="_blank" rel="noopener noreferrer">How browsers work<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit" style="margin:0;"><div class="edit-link"><a href="https://github.com/springsongs/springsongs/edit/master/javascript学习/bom/59_JavaScript_engine.md" target="_blank" rel="noopener noreferrer">完善页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">最近更新:</span> <span class="time">3/2/2025, 8:31:22 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/_58-javascript-globaleventhandlers/" class="prev">
        59.GlobalEventHandlers 接口
      </a></span> <span class="next"><a href="/_60-javascript-window/">
        61.window 对象
      </a>
      →
    </span></p></div></div> <div class="toc-container-sidebar"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:86vh"><div style="font-weight:bold;">60.浏览器环境概述</div> <hr> <div class="toc-box"><ul class="toc-sidebar-links"><li><a href="/_59-javascript-engine/#代码嵌入网页的方法" class="toc-sidebar-link">代码嵌入网页的方法</a><ul class="toc-sidebar-sub-headers"><li class="toc-sidebar-sub-header"><a href="/_59-javascript-engine/#script-元素嵌入代码" class="toc-sidebar-link">script 元素嵌入代码</a></li><li class="toc-sidebar-sub-header"><a href="/_59-javascript-engine/#script-元素加载外部脚本" class="toc-sidebar-link">script 元素加载外部脚本</a></li><li class="toc-sidebar-sub-header"><a href="/_59-javascript-engine/#事件属性" class="toc-sidebar-link">事件属性</a></li><li class="toc-sidebar-sub-header"><a href="/_59-javascript-engine/#url-协议" class="toc-sidebar-link">URL 协议</a></li></ul></li><li><a href="/_59-javascript-engine/#script-元素" class="toc-sidebar-link">script 元素</a><ul class="toc-sidebar-sub-headers"><li class="toc-sidebar-sub-header"><a href="/_59-javascript-engine/#工作原理" class="toc-sidebar-link">工作原理</a></li><li class="toc-sidebar-sub-header"><a href="/_59-javascript-engine/#defer-属性" class="toc-sidebar-link">defer 属性</a></li><li class="toc-sidebar-sub-header"><a href="/_59-javascript-engine/#async-属性" class="toc-sidebar-link">async 属性</a></li><li class="toc-sidebar-sub-header"><a href="/_59-javascript-engine/#脚本的动态加载" class="toc-sidebar-link">脚本的动态加载</a></li><li class="toc-sidebar-sub-header"><a href="/_59-javascript-engine/#加载使用的协议" class="toc-sidebar-link">加载使用的协议</a></li></ul></li><li><a href="/_59-javascript-engine/#浏览器的组成" class="toc-sidebar-link">浏览器的组成</a><ul class="toc-sidebar-sub-headers"><li class="toc-sidebar-sub-header"><a href="/_59-javascript-engine/#渲染引擎" class="toc-sidebar-link">渲染引擎</a></li><li class="toc-sidebar-sub-header"><a href="/_59-javascript-engine/#重流和重绘" class="toc-sidebar-link">重流和重绘</a></li><li class="toc-sidebar-sub-header"><a href="/_59-javascript-engine/#javascript-引擎" class="toc-sidebar-link">JavaScript 引擎</a></li></ul></li><li><a href="/_59-javascript-engine/#参考链接" class="toc-sidebar-link">参考链接</a><ul class="toc-sidebar-sub-headers"></ul></li></ul></div></div></div></div></div>  <main class="footer"> <div class="copy-right"><span class="name"> 极光的编程宝典   |     </span> <a target="_blank" rel="noreferrer">
          
        </a> 
          |    
        <a href="#" target="_blank" rel="noreferrer">
          公安备案：11111111111
        </a></div></main></main> <aside class="page-sidebar"> <div class="page-side-toolbar"></div>  </aside></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.cb2dcffc.js" defer></script><script src="/assets/js/2.2b4f0d90.js" defer></script><script src="/assets/js/60.905b752e.js" defer></script>
  </body>
</html>
