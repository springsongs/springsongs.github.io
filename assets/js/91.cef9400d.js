(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{389:function(n,s,a){"use strict";a.r(s);var t=a(4),e=Object(t.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h1",{attrs:{id:"ç¬¬äº”ç¯‡-å¦‚ä½•ç”¨é«˜å¾·åœ°å›¾æ·»åŠ ç¼©æ”¾æŒ‰é’®ã€æ¯”ä¾‹å°ºã€é¹°çœ¼å›¾ã€å·¥å…·æ "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬äº”ç¯‡-å¦‚ä½•ç”¨é«˜å¾·åœ°å›¾æ·»åŠ ç¼©æ”¾æŒ‰é’®ã€æ¯”ä¾‹å°ºã€é¹°çœ¼å›¾ã€å·¥å…·æ "}},[n._v("#")]),n._v(" ç¬¬äº”ç¯‡ï¼Œå¦‚ä½•ç”¨é«˜å¾·åœ°å›¾æ·»åŠ ç¼©æ”¾æŒ‰é’®ã€æ¯”ä¾‹å°ºã€é¹°çœ¼å›¾ã€å·¥å…·æ ï¼")]),n._v(" "),s("blockquote",[s("p",[n._v("ä½œè€…ï¼š"),s("a",{attrs:{href:"https://java.springsongs.cn",target:"_blank",rel:"noopener noreferrer"}},[n._v("æå…‰"),s("OutboundLink")],1)]),n._v(" "),s("p",[n._v("æœ¬ç«™åœ°å€ï¼š"),s("a",{attrs:{href:"http://springsongs.cn",target:"_blank",rel:"noopener noreferrer"}},[n._v("http://springsongs.cn"),s("OutboundLink")],1),n._v("\nåœ¨GISå¯è§†åŒ–åº”ç”¨ä¸­ï¼Œ"),s("strong",[n._v("è¡Œæ”¿åŒºè¾¹ç•Œé®ç½©")]),n._v("ä¸"),s("strong",[n._v("3Dåœ°å›¾å¯è§†åŒ–")]),n._v("æ˜¯å¸¸è§éœ€æ±‚ã€‚æœ¬æ–‡ç»“åˆ"),s("strong",[n._v("é«˜å¾·åœ°å›¾API")]),n._v("ï¼Œä»¥"),s("strong",[n._v("çµå·å¿")]),n._v("ä¸ºä¾‹ï¼Œè¯¦ç»†æ‹†è§£å®Œæ•´å¼€å‘è¿‡ç¨‹ï¼Œå¹¶é™„å¸¦å…³é”®ä»£ç ï¼Œé€‚åˆå¼€å‘è€…å­¦ä¹ å’Œå¿«é€Ÿé›†æˆã€‚")])]),n._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"image-20250716172508962","data-src":"http://springsongs.cn/images/image-20250716172508962.png",loading:"lazy"}})]),n._v(" "),s("hr"),n._v(" "),s("h2",{attrs:{id:"ğŸ¯-ä¸€ã€é¡¹ç›®æ•ˆæœæ¦‚è¿°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¯-ä¸€ã€é¡¹ç›®æ•ˆæœæ¦‚è¿°"}},[n._v("#")]),n._v(" ğŸ¯ ä¸€ã€é¡¹ç›®æ•ˆæœæ¦‚è¿°")]),n._v(" "),s("ul",[s("li",[n._v("çµå·å¿åŠä¸‹å±ä¹¡é•‡"),s("strong",[n._v("è¾¹ç•Œé®ç½©")]),n._v("å±•ç¤º")]),n._v(" "),s("li",[n._v("æ”¯æŒ"),s("strong",[n._v("3Då€¾æ–œè§†è§’")]),n._v("ä¸"),s("strong",[n._v("å«æ˜Ÿå›¾å±‚")])]),n._v(" "),s("li",[n._v("åŠ¨æ€ç”Ÿæˆä¸å±•ç¤º"),s("strong",[n._v("åœ°ç†æ ‡è®°ç‚¹")])]),n._v(" "),s("li",[n._v("é›†æˆ"),s("strong",[n._v("ç¼©æ”¾æ§ä»¶")]),n._v("ã€"),s("strong",[n._v("é¹°çœ¼æ§ä»¶")]),n._v("ã€"),s("strong",[n._v("æµ‹è·å·¥å…·")])]),n._v(" "),s("li",[n._v("å®ç°"),s("strong",[n._v("åœ°å›¾æˆªå›¾")]),n._v("åŠŸèƒ½")])]),n._v(" "),s("hr"),n._v(" "),s("h2",{attrs:{id:"ğŸ› ï¸-äºŒã€æŠ€æœ¯æ ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ› ï¸-äºŒã€æŠ€æœ¯æ ˆ"}},[n._v("#")]),n._v(" ğŸ› ï¸ äºŒã€æŠ€æœ¯æ ˆ")]),n._v(" "),s("ul",[s("li",[n._v("é«˜å¾·åœ°å›¾ JS API v1.4.15")]),n._v(" "),s("li",[n._v("Turf.js ï¼ˆç”¨äºè®¡ç®—å‡ ä½•ä¸­å¿ƒç­‰ï¼‰")]),n._v(" "),s("li",[n._v("html2canvas ï¼ˆå®ç°æˆªå›¾ï¼‰")]),n._v(" "),s("li",[n._v("åŸç”Ÿ JavaScript")])]),n._v(" "),s("hr"),n._v(" "),s("h2",{attrs:{id:"ğŸ“-ä¸‰ã€å®Œæ•´å¼€å‘æ­¥éª¤ä¸å…³é”®ä»£ç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“-ä¸‰ã€å®Œæ•´å¼€å‘æ­¥éª¤ä¸å…³é”®ä»£ç "}},[n._v("#")]),n._v(" ğŸ“ ä¸‰ã€å®Œæ•´å¼€å‘æ­¥éª¤ä¸å…³é”®ä»£ç ")]),n._v(" "),s("h3",{attrs:{id:"_1ï¸âƒ£-åŠ è½½åœ°å›¾ä¸æ ¸å¿ƒæ’ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1ï¸âƒ£-åŠ è½½åœ°å›¾ä¸æ ¸å¿ƒæ’ä»¶"}},[n._v("#")]),n._v(" 1ï¸âƒ£ åŠ è½½åœ°å›¾ä¸æ ¸å¿ƒæ’ä»¶")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('htmlCopyEdit<script src="https://webapi.amap.com/maps?v=1.4.15&key=ä½ çš„key&plugin=Map3D,AMap.ControlBar,AMap.DistrictSearch,AMap.ToolBar,AMap.RangingTool,AMap.HawkEye,AMap.OverView"><\/script>\n<script src="https://unpkg.com/@turf/turf@6/turf.min.js"><\/script>\n<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"><\/script>\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br")])]),s("blockquote",[s("p",[n._v("æ’ä»¶æŒ‰éœ€åŠ è½½ï¼Œé¿å…æ€§èƒ½æµªè´¹ã€‚")])]),n._v(" "),s("hr"),n._v(" "),s("h3",{attrs:{id:"_2ï¸âƒ£-è·å–çµå·å¿è¾¹ç•Œæ•°æ®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2ï¸âƒ£-è·å–çµå·å¿è¾¹ç•Œæ•°æ®"}},[n._v("#")]),n._v(" 2ï¸âƒ£ è·å–çµå·å¿è¾¹ç•Œæ•°æ®")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("\t\tlet MapInfo; // å…¨å±€åœ°å›¾å®ä¾‹\n\n        const locationPoints = Array.from({ length: 20 }, (_, i) => {\n            const randomLng = 110.40 + Math.random() * 0.2;  // ç»åº¦åœ¨110.40 ~ 110.60\n            const randomLat = 25.26 + Math.random() * 0.2;   // çº¬åº¦åœ¨25.26 ~ 25.46\n            return {\n                name: `éšæœºç‚¹${i + 1}`,\n                coord: [parseFloat(randomLng.toFixed(6)), parseFloat(randomLat.toFixed(6))],\n                description: `è¿™æ˜¯ç¬¬${i + 1}ä¸ªéšæœºç”Ÿæˆçš„ç‚¹ï¼Œä½äºçµå·å¿åŒºåŸŸå†…ã€‚`\n            };\n        });\n        // åˆå§‹åŒ–åœ°å›¾\n        function initMap() {\n            const opts = {\n                subdistrict: 2,  // è·å–ä¹¡é•‡çº§æ•°æ®\n                extensions: 'all',\n                level: 'city'\n            };\n\n            // æŸ¥è¯¢çµå·å¿åŠä¸‹å±ä¹¡é•‡æ•°æ®\n            const district = new AMap.DistrictSearch(opts);\n            district.search('çµå·å¿', function (status, result) {\n                if (status !== 'complete' || !result.districtList[0]) {\n                    console.error('è¡Œæ”¿åŒºæŸ¥è¯¢å¤±è´¥');\n                    return;\n                }\n\n                const countyData = result.districtList[0];\n                const townships = countyData.districts || [];\n                const countyBounds = countyData.boundaries || [];\n\n                // 1. åˆ›å»º3Dåœ°å›¾ï¼ˆå¸¦çµå·å¿è¾¹ç•Œé®ç½©ï¼‰\n                create3DMap(countyBounds);\n\n            });\n        }\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br")])]),s("blockquote",[s("p",[n._v("ä½¿ç”¨ "),s("code",[n._v("AMap.DistrictSearch")]),n._v(" è·å–è¡Œæ”¿åŒºè¾¹ç•Œåï¼Œä¼ å…¥3Dåœ°å›¾ç”Ÿæˆå‡½æ•°ã€‚")])]),n._v(" "),s("hr"),n._v(" "),s("h3",{attrs:{id:"_3ï¸âƒ£-åˆ›å»º3dåœ°å›¾ä¸è¾¹ç•Œé®ç½©"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3ï¸âƒ£-åˆ›å»º3dåœ°å›¾ä¸è¾¹ç•Œé®ç½©"}},[n._v("#")]),n._v(" 3ï¸âƒ£ åˆ›å»º3Dåœ°å›¾ä¸è¾¹ç•Œé®ç½©")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("// åˆ›å»º3Dåœ°å›¾å¹¶è®¾ç½®é®ç½©\nfunction create3DMap(boundaries) {\n            MapInfo = new AMap.Map('AllmapContainer', {\n                mask: boundaries.map(boundary => [boundary]), // è®¾ç½®é®ç½©åŒºåŸŸ\n                viewMode: '3D',\n                center: [110.4049, 25.28092],\n                zoom: 10.5,\n                pitch: 40, // 3Då€¾æ–œè§’åº¦\n                layers: [\n                    new AMap.TileLayer.RoadNet(),\n                    new AMap.TileLayer.Satellite() // å«æ˜Ÿå›¾å±‚\n                ],\n                mapStyle: \"amap://styles/859154f30ffaec4521b959815da8902d\" // è‡ªå®šä¹‰æ ·å¼\n            });\n\n            // æ·»åŠ ç¼©æ”¾æ§ä»¶\n            MapInfo.addControl(new AMap.ControlBar({\n                showZoomBar: true,      // æ˜¾ç¤ºç¼©æ”¾æŒ‰é’®\n                showControlButton: true,// æ˜¾ç¤º3Dæ§ä»¶\n                position: {\n                    right: '10px',\n                    top: '10px'\n                }\n            }));\n\n            // æ·»åŠ é¹°çœ¼å›¾\n            MapInfo.addControl(new AMap.OverView({\n                visible: true,  // é»˜è®¤æ˜¾ç¤º\n                isOpen: true,   // é»˜è®¤å±•å¼€\n                tileLayer: new AMap.TileLayer.Satellite() // é¹°çœ¼å›¾ä½¿ç”¨å«æ˜Ÿå›¾\n            }));\n\n\n            // æ·»åŠ å·¥å…·æ \n            const toolBar = new AMap.ToolBar({\n                position: {\n                    top: '200px',\n                    right: '10px'\n                },\n                liteStyle: true // ç®€æ´æ¨¡å¼\n            });\n            MapInfo.addControl(toolBar);\n            // 3. æ˜¾å¼æ·»åŠ Zoomæ§ä»¶ï¼ˆå¯é€‰ä½†æ¨èï¼‰\n            //MapInfo.addControl(new AMap.Zoom());\n            // æ·»åŠ æµ‹è·å·¥å…·\n            const rangeTool = new AMap.RangingTool(MapInfo);\n\n            // å°†æµ‹è·æŒ‰é’®æ·»åŠ åˆ°å·¥å…·æ \n            document.querySelector('.amap-toolbar').innerHTML +=\n                '<div class=\"amap-distance-marker\" title=\"è·ç¦»æµ‹é‡\">æµ‹è·</div>' +\n                '<div class=\"amap-screenshot\" title=\"åœ°å›¾æˆªå›¾\">æˆªå›¾</div>';\n\n            // ç»‘å®šæµ‹è·æŒ‰é’®ç‚¹å‡»äº‹ä»¶\n            document.querySelector('.amap-distance-marker').addEventListener('click', function () {\n                rangeTool.turnOn(); // å¼€å¯æµ‹è·\n            });\n\n            // ç»‘å®šæˆªå›¾æŒ‰é’®ç‚¹å‡»äº‹ä»¶\n            document.querySelector('.amap-screenshot').addEventListener('click', function () {\n                takeScreenshot();\n            });\n\n            // æ·»åŠ 3Dåœ°å½¢åšåº¦æ•ˆæœï¼ˆå¯é€‰ï¼‰\n            const object3Dlayer = new AMap.Object3DLayer();\n            MapInfo.add(object3Dlayer);\n            const wall = new AMap.Object3D.Wall({\n                path: boundaries[0], // å–ç¬¬ä¸€æ¡è¾¹ç•Œ\n                height: -8000,\n                color: '#0478d7',\n                transparent: true\n            });\n            object3Dlayer.add(wall);\n            addMarkers(locationPoints);\n}\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br"),s("span",{staticClass:"line-number"},[n._v("47")]),s("br"),s("span",{staticClass:"line-number"},[n._v("48")]),s("br"),s("span",{staticClass:"line-number"},[n._v("49")]),s("br"),s("span",{staticClass:"line-number"},[n._v("50")]),s("br"),s("span",{staticClass:"line-number"},[n._v("51")]),s("br"),s("span",{staticClass:"line-number"},[n._v("52")]),s("br"),s("span",{staticClass:"line-number"},[n._v("53")]),s("br"),s("span",{staticClass:"line-number"},[n._v("54")]),s("br"),s("span",{staticClass:"line-number"},[n._v("55")]),s("br"),s("span",{staticClass:"line-number"},[n._v("56")]),s("br"),s("span",{staticClass:"line-number"},[n._v("57")]),s("br"),s("span",{staticClass:"line-number"},[n._v("58")]),s("br"),s("span",{staticClass:"line-number"},[n._v("59")]),s("br"),s("span",{staticClass:"line-number"},[n._v("60")]),s("br"),s("span",{staticClass:"line-number"},[n._v("61")]),s("br"),s("span",{staticClass:"line-number"},[n._v("62")]),s("br"),s("span",{staticClass:"line-number"},[n._v("63")]),s("br"),s("span",{staticClass:"line-number"},[n._v("64")]),s("br"),s("span",{staticClass:"line-number"},[n._v("65")]),s("br"),s("span",{staticClass:"line-number"},[n._v("66")]),s("br"),s("span",{staticClass:"line-number"},[n._v("67")]),s("br"),s("span",{staticClass:"line-number"},[n._v("68")]),s("br"),s("span",{staticClass:"line-number"},[n._v("69")]),s("br"),s("span",{staticClass:"line-number"},[n._v("70")]),s("br"),s("span",{staticClass:"line-number"},[n._v("71")]),s("br"),s("span",{staticClass:"line-number"},[n._v("72")]),s("br"),s("span",{staticClass:"line-number"},[n._v("73")]),s("br"),s("span",{staticClass:"line-number"},[n._v("74")]),s("br")])]),s("blockquote",[s("p",[s("strong",[n._v("maskå‚æ•°")]),n._v("å¯å®ç°â€œä»…æ˜¾ç¤ºæŒ‡å®šåŒºåŸŸâ€çš„èšç„¦æ•ˆæœã€‚")])]),n._v(" "),s("hr"),n._v(" "),s("h3",{attrs:{id:"_4ï¸âƒ£-æ·»åŠ å¸¸ç”¨æ§ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4ï¸âƒ£-æ·»åŠ å¸¸ç”¨æ§ä»¶"}},[n._v("#")]),n._v(" 4ï¸âƒ£ æ·»åŠ å¸¸ç”¨æ§ä»¶")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("// ç¼©æ”¾ä¸3Dæ§ä»¶\nMapInfo.addControl(new AMap.ControlBar({\n    showZoomBar: true,\n    showControlButton: true\n}));\n\n// é¹°çœ¼æ§ä»¶\nMapInfo.addControl(new AMap.OverView({\n    visible: true,\n    isOpen: true\n}));\n\n// å·¥å…·æ \nconst toolBar = new AMap.ToolBar();\nMapInfo.addControl(toolBar);\n\n// æµ‹è·å·¥å…·\nconst rangeTool = new AMap.RangingTool(MapInfo);\n\n// å°†æµ‹è·æŒ‰é’®æ·»åŠ åˆ°å·¥å…·æ \ndocument.querySelector('.amap-toolbar').innerHTML +=\n                '<div class=\"amap-distance-marker\" title=\"è·ç¦»æµ‹é‡\">æµ‹è·</div>' +\n                '<div class=\"amap-screenshot\" title=\"åœ°å›¾æˆªå›¾\">æˆªå›¾</div>';\n\n// ç»‘å®šæµ‹è·æŒ‰é’®ç‚¹å‡»äº‹ä»¶\ndocument.querySelector('.amap-distance-marker').addEventListener('click', function () {\n                rangeTool.turnOn(); // å¼€å¯æµ‹è·\n});\n\n// ç»‘å®šæˆªå›¾æŒ‰é’®ç‚¹å‡»äº‹ä»¶\ndocument.querySelector('.amap-screenshot').addEventListener('click', function () {\n                takeScreenshot();\n});\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br")])]),s("blockquote",[s("p",[n._v("âŒ "),s("strong",[n._v("æ³¨æ„")]),n._v("ï¼šé«˜å¾·åœ°å›¾ä¸å­˜åœ¨ "),s("code",[n._v("AMap.Zoom")]),n._v(" æ§ä»¶ï¼Œç¼©æ”¾åŠŸèƒ½åº”é€šè¿‡ "),s("code",[n._v("AMap.ControlBar")]),n._v(" å®ç°ã€‚")])]),n._v(" "),s("hr"),n._v(" "),s("h3",{attrs:{id:"_5ï¸âƒ£-æ ‡è®°çµå·å¿å†…åœ°ç†åæ ‡ç‚¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5ï¸âƒ£-æ ‡è®°çµå·å¿å†…åœ°ç†åæ ‡ç‚¹"}},[n._v("#")]),n._v(" 5ï¸âƒ£ æ ‡è®°çµå·å¿å†…åœ°ç†åæ ‡ç‚¹")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('function addMarkers(points) {\n            points.forEach(item => {\n                const marker = new AMap.Marker({\n                    map: MapInfo,\n                    position: item.coord,\n                    title: item.name,\n                    label: {\n                        content: item.name,\n                        offset: new AMap.Pixel(0, -30)\n                    }\n                });\n\n                marker.on(\'click\', function () {\n                    showInfoWindow(item);\n                });\n            });\n\n        }\n        \n// æ˜¾ç¤ºä¿¡æ¯çª—å£\nfunction showInfoWindow(point) {\n            const infoWindow = new AMap.InfoWindow({\n                content: `<div style="padding:10px;min-width:150px;">\n            <h4 style="margin:0 0 5px 0;">${point.name}</h4>\n            <p style="margin:3px 0;">åæ ‡: ${point.coord[0].toFixed(6)}, ${point.coord[1].toFixed(6)}</p>\n            <p style="margin:3px 0;">${point.description}</p>\n            <p style="margin:3px 0;color:#666;font-size:12px;">ç‚¹å‡»æ—¶é—´: ${new Date().toLocaleTimeString()}</p>\n        </div>`,\n                offset: new AMap.Pixel(0, -30)\n            });\n            infoWindow.open(MapInfo, point.coord);\n}\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br")])]),s("blockquote",[s("p",[n._v("æ¯ä¸ªæ ‡è®°æ”¯æŒç‚¹å‡»å¼¹å‡ºè¯¦ç»†ä¿¡æ¯çª—å£ã€‚")])]),n._v(" "),s("hr"),n._v(" "),s("h3",{attrs:{id:"_6ï¸âƒ£-æ·»åŠ 3dåœ°å½¢å¢™æ•ˆæœ-å¯é€‰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6ï¸âƒ£-æ·»åŠ 3dåœ°å½¢å¢™æ•ˆæœ-å¯é€‰"}},[n._v("#")]),n._v(" 6ï¸âƒ£ æ·»åŠ 3Dåœ°å½¢å¢™æ•ˆæœï¼ˆå¯é€‰ï¼‰")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("const object3Dlayer = new AMap.Object3DLayer();\nconst wall = new AMap.Object3D.Wall({\n    path: boundaries[0],\n    height: -8000,\n    color: '#0478d7',\n    transparent: true\n});\nobject3Dlayer.add(wall);\nMapInfo.add(object3Dlayer);\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br")])]),s("blockquote",[s("p",[n._v("è®©è¾¹ç•ŒåŒºåŸŸå‘ˆç°ç«‹ä½“åšåº¦æ•ˆæœï¼Œå¢å¼ºè§†è§‰å†²å‡»åŠ›ã€‚")])]),n._v(" "),s("hr"),n._v(" "),s("h3",{attrs:{id:"_7ï¸âƒ£-å®ç°åœ°å›¾æˆªå›¾åŠŸèƒ½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7ï¸âƒ£-å®ç°åœ°å›¾æˆªå›¾åŠŸèƒ½"}},[n._v("#")]),n._v(" 7ï¸âƒ£ å®ç°åœ°å›¾æˆªå›¾åŠŸèƒ½")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("function takeScreenshot() {\n            // å°è¯•å®˜æ–¹æ–¹æ³•\n            if (MapInfo && MapInfo.getMapType) {\n                MapInfo.plugin(['AMap.MapType'], function () {\n                    if (AMap.MapType.prototype.getCanvas) {\n                        MapInfo.getMapType().getCanvas(function (canvas) {\n                            if (canvas && canvas.toDataURL) {\n                                try {\n                                    const dataURL = canvas.toDataURL('image/png');\n                                    downloadImage(dataURL);\n                                    return;\n                                } catch (e) {\n                                    console.warn('å®˜æ–¹æˆªå›¾æ–¹æ³•å¤±è´¥:', e);\n                                }\n                            }\n                            // å®˜æ–¹æ–¹æ³•å¤±è´¥ï¼Œå°è¯•ç›´æ¥è·å–canvas\n                            tryDirectCanvasCapture();\n                        });\n                    }\n                });\n            } else {\n                tryDirectCanvasCapture();\n            }\n        }\n\n        function downloadImage(dataUrl) {\n            const link = document.createElement('a');\n            link.download = `åœ°å›¾æˆªå›¾_${new Date().getTime()}.png`;\n            link.href = dataUrl;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n        }\n\n\n        // ç›´æ¥è·å–canvaså°è¯•\n        function tryDirectCanvasCapture() {\n            const canvas = document.querySelector('#AllmapContainer canvas');\n            if (canvas && canvas.toDataURL) {\n                try {\n                    const tempCanvas = document.createElement('canvas');\n                    tempCanvas.width = canvas.width;\n                    tempCanvas.height = canvas.height;\n                    tempCanvas.getContext('2d').drawImage(canvas, 0, 0);\n                    const dataURL = tempCanvas.toDataURL('image/png');\n                    downloadImage(dataURL);\n                    return;\n                } catch (e) {\n                    console.warn('ç›´æ¥canvasæ•è·å¤±è´¥:', e);\n                }\n            }\n\n            // æœ€ç»ˆå›é€€åˆ°html2canvas\n            if (window.html2canvas) {\n                takeAlternativeScreenshot();\n            } else {\n                alert('æˆªå›¾åŠŸèƒ½åˆå§‹åŒ–å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');\n            }\n        }\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br"),s("span",{staticClass:"line-number"},[n._v("47")]),s("br"),s("span",{staticClass:"line-number"},[n._v("48")]),s("br"),s("span",{staticClass:"line-number"},[n._v("49")]),s("br"),s("span",{staticClass:"line-number"},[n._v("50")]),s("br"),s("span",{staticClass:"line-number"},[n._v("51")]),s("br"),s("span",{staticClass:"line-number"},[n._v("52")]),s("br"),s("span",{staticClass:"line-number"},[n._v("53")]),s("br"),s("span",{staticClass:"line-number"},[n._v("54")]),s("br"),s("span",{staticClass:"line-number"},[n._v("55")]),s("br"),s("span",{staticClass:"line-number"},[n._v("56")]),s("br"),s("span",{staticClass:"line-number"},[n._v("57")]),s("br"),s("span",{staticClass:"line-number"},[n._v("58")]),s("br"),s("span",{staticClass:"line-number"},[n._v("59")]),s("br")])]),s("h4",{attrs:{id:""}},[s("a",{staticClass:"header-anchor",attrs:{href:"#"}},[n._v("#")])]),n._v(" "),s("hr"),n._v(" "),s("h2",{attrs:{id:"ğŸ“Œ-å››ã€å¸¸è§é”™è¯¯ä¸ä¼˜åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Œ-å››ã€å¸¸è§é”™è¯¯ä¸ä¼˜åŒ–"}},[n._v("#")]),n._v(" ğŸ“Œ å››ã€å¸¸è§é”™è¯¯ä¸ä¼˜åŒ–")]),n._v(" "),s("table",[s("thead",[s("tr",[s("th",[n._v("é—®é¢˜")]),n._v(" "),s("th",[n._v("è§£å†³æ–¹æ¡ˆ")])])]),n._v(" "),s("tbody",[s("tr",[s("td",[s("code",[n._v("AMap.Zoom is not a constructor")])]),n._v(" "),s("td",[n._v("æ”¹ç”¨ "),s("code",[n._v("AMap.ControlBar")]),n._v(" å®ç°ç¼©æ”¾æ§ä»¶åŠŸèƒ½")])]),n._v(" "),s("tr",[s("td",[n._v("è¡Œæ”¿åŒºåˆ’è¾¹ç•Œä¸ºç©º")]),n._v(" "),s("td",[n._v("ç¡®ä¿åŸå¸‚åç§°ã€keyæ­£ç¡®ï¼Œæˆ–æ›´æ¢æ–°ç‰ˆæœ¬APIæµ‹è¯•")])]),n._v(" "),s("tr",[s("td",[n._v("æˆªå›¾é»‘å±æˆ–å¤±è´¥")]),n._v(" "),s("td",[n._v("ä¼˜å…ˆä½¿ç”¨Canvasæˆªå›¾ï¼Œå¤±è´¥æ—¶ç”¨html2canvasä½œä¸ºå¤‡é€‰")])])])]),n._v(" "),s("hr"),n._v(" "),s("h2",{attrs:{id:"ğŸ‰-äº”ã€é¡¹ç›®æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ‰-äº”ã€é¡¹ç›®æ€»ç»“"}},[n._v("#")]),n._v(" ğŸ‰ äº”ã€é¡¹ç›®æ€»ç»“")]),n._v(" "),s("p",[n._v("é€šè¿‡æœ¬æ–‡çš„å®Œæ•´è®²è§£ä¸å…³é”®ä»£ç ï¼Œä½ å¯ä»¥å®ç°ï¼š")]),n._v(" "),s("ul",[s("li",[n._v("å¿3Dè¡Œæ”¿åŒºåˆ’åœ°å›¾")]),n._v(" "),s("li",[n._v("å¤šç§æ§ä»¶ä¸äº¤äº’åŠŸèƒ½")]),n._v(" "),s("li",[n._v("è‡ªå®šä¹‰åœ°å›¾æ ·å¼ä¸åœ°ç†æ ‡è®°")]),n._v(" "),s("li",[n._v("çµæ´»çš„åœ°å›¾æˆªå›¾åŠŸèƒ½")])])])}),[],!1,null,null,null);s.default=e.exports}}]);