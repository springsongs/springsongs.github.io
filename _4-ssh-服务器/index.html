<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SSH 服务器 | 极光的编程宝典</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.ico">
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?b2a5032bc0631704ef3523d3aecad2bf";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
      </script>
    <meta name="description" content="贴心的编程学习路线，全面的编程知识百科">
    <meta property="article:modified_time" content="2025-03-12T01:17:38.000Z">
    <meta property="og:site_name" content="极光的编程宝典">
    <meta property="og:title" content="SSH 服务器">
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://springsongs.cn/_4-ssh-%E6%9C%8D%E5%8A%A1%E5%99%A8/">
    <meta name="twitter:title" content="SSH 服务器">
    <meta name="twitter:url" content="http://springsongs.cn/_4-ssh-%E6%9C%8D%E5%8A%A1%E5%99%A8/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="程序员, 编程, 计算机">
    <meta property="article:tag" content="程序员">
    <meta name="keywords" content="程序员极光, 编程学习路线, 编程知识百科, Java, 编程导航, 前端, 开发, 编程分享, 项目, IT, 求职, 面经">
    
    <link rel="preload" href="/assets/css/0.styles.40c15e22.css" as="style"><link rel="preload" href="/assets/js/app.964c39ad.js" as="script"><link rel="preload" href="/assets/js/2.50e72a5a.js" as="script"><link rel="preload" href="/assets/js/94.db307d9a.js" as="script"><link rel="prefetch" href="/assets/js/1.17ea1209.js"><link rel="prefetch" href="/assets/js/10.40b6837e.js"><link rel="prefetch" href="/assets/js/100.aff91018.js"><link rel="prefetch" href="/assets/js/101.9bc30a0b.js"><link rel="prefetch" href="/assets/js/102.72145957.js"><link rel="prefetch" href="/assets/js/103.e96c1140.js"><link rel="prefetch" href="/assets/js/104.66aa8de5.js"><link rel="prefetch" href="/assets/js/105.aad3e44e.js"><link rel="prefetch" href="/assets/js/106.a63fad49.js"><link rel="prefetch" href="/assets/js/107.5d33d9a3.js"><link rel="prefetch" href="/assets/js/108.9c5d18ae.js"><link rel="prefetch" href="/assets/js/109.88964cd5.js"><link rel="prefetch" href="/assets/js/11.78a8555f.js"><link rel="prefetch" href="/assets/js/110.9e012cd3.js"><link rel="prefetch" href="/assets/js/111.8ba32b22.js"><link rel="prefetch" href="/assets/js/112.39593809.js"><link rel="prefetch" href="/assets/js/113.03092f16.js"><link rel="prefetch" href="/assets/js/114.6b7613ac.js"><link rel="prefetch" href="/assets/js/115.9022d11b.js"><link rel="prefetch" href="/assets/js/116.9d733f30.js"><link rel="prefetch" href="/assets/js/117.315f3330.js"><link rel="prefetch" href="/assets/js/118.5f4880b8.js"><link rel="prefetch" href="/assets/js/119.7172a74d.js"><link rel="prefetch" href="/assets/js/12.0b172d0b.js"><link rel="prefetch" href="/assets/js/120.45b078a7.js"><link rel="prefetch" href="/assets/js/121.602d7afa.js"><link rel="prefetch" href="/assets/js/122.82af7c23.js"><link rel="prefetch" href="/assets/js/123.2735eeb3.js"><link rel="prefetch" href="/assets/js/124.c37fbacb.js"><link rel="prefetch" href="/assets/js/125.8a9613a6.js"><link rel="prefetch" href="/assets/js/126.3e235a69.js"><link rel="prefetch" href="/assets/js/127.66780f09.js"><link rel="prefetch" href="/assets/js/128.ee068050.js"><link rel="prefetch" href="/assets/js/129.f9ad40f3.js"><link rel="prefetch" href="/assets/js/13.8352f638.js"><link rel="prefetch" href="/assets/js/130.6d36352a.js"><link rel="prefetch" href="/assets/js/131.60c0de27.js"><link rel="prefetch" href="/assets/js/132.3c044bfc.js"><link rel="prefetch" href="/assets/js/133.974f6b4b.js"><link rel="prefetch" href="/assets/js/134.c1ebdba1.js"><link rel="prefetch" href="/assets/js/135.0eeedc2f.js"><link rel="prefetch" href="/assets/js/136.a4e12dd5.js"><link rel="prefetch" href="/assets/js/137.7fafa56e.js"><link rel="prefetch" href="/assets/js/138.5104a677.js"><link rel="prefetch" href="/assets/js/139.822db325.js"><link rel="prefetch" href="/assets/js/14.c7dc96c5.js"><link rel="prefetch" href="/assets/js/140.adc936fd.js"><link rel="prefetch" href="/assets/js/141.e652e240.js"><link rel="prefetch" href="/assets/js/142.9ffa8f5c.js"><link rel="prefetch" href="/assets/js/143.77b35148.js"><link rel="prefetch" href="/assets/js/144.730c9c32.js"><link rel="prefetch" href="/assets/js/145.929eb374.js"><link rel="prefetch" href="/assets/js/146.66d64167.js"><link rel="prefetch" href="/assets/js/147.e93d8d14.js"><link rel="prefetch" href="/assets/js/148.01522b51.js"><link rel="prefetch" href="/assets/js/149.dba13dde.js"><link rel="prefetch" href="/assets/js/15.970a8ca5.js"><link rel="prefetch" href="/assets/js/150.08b8b573.js"><link rel="prefetch" href="/assets/js/151.c95f091f.js"><link rel="prefetch" href="/assets/js/152.3913fe3b.js"><link rel="prefetch" href="/assets/js/153.1709e8c8.js"><link rel="prefetch" href="/assets/js/154.327c7bfd.js"><link rel="prefetch" href="/assets/js/155.90e7ce32.js"><link rel="prefetch" href="/assets/js/156.a96d204a.js"><link rel="prefetch" href="/assets/js/157.e24da75d.js"><link rel="prefetch" href="/assets/js/158.8438cf6e.js"><link rel="prefetch" href="/assets/js/159.675b883d.js"><link rel="prefetch" href="/assets/js/16.ac3baac4.js"><link rel="prefetch" href="/assets/js/160.16349966.js"><link rel="prefetch" href="/assets/js/161.f64724e4.js"><link rel="prefetch" href="/assets/js/162.2ad49e03.js"><link rel="prefetch" href="/assets/js/163.a27a3b80.js"><link rel="prefetch" href="/assets/js/164.bd15bacf.js"><link rel="prefetch" href="/assets/js/165.75fb916b.js"><link rel="prefetch" href="/assets/js/166.06f8d6b8.js"><link rel="prefetch" href="/assets/js/167.70afb591.js"><link rel="prefetch" href="/assets/js/168.dc8c2527.js"><link rel="prefetch" href="/assets/js/169.b9b86558.js"><link rel="prefetch" href="/assets/js/17.c186ca40.js"><link rel="prefetch" href="/assets/js/170.df227075.js"><link rel="prefetch" href="/assets/js/171.be38f1df.js"><link rel="prefetch" href="/assets/js/172.867af5ec.js"><link rel="prefetch" href="/assets/js/173.3d35d134.js"><link rel="prefetch" href="/assets/js/174.5c31d08c.js"><link rel="prefetch" href="/assets/js/175.48bd40b0.js"><link rel="prefetch" href="/assets/js/176.e93e5f46.js"><link rel="prefetch" href="/assets/js/177.36d3a663.js"><link rel="prefetch" href="/assets/js/178.dabd628f.js"><link rel="prefetch" href="/assets/js/179.9dc8fd18.js"><link rel="prefetch" href="/assets/js/18.1cdd0514.js"><link rel="prefetch" href="/assets/js/180.3547aa33.js"><link rel="prefetch" href="/assets/js/181.fd7ff243.js"><link rel="prefetch" href="/assets/js/182.1c4f15b3.js"><link rel="prefetch" href="/assets/js/183.bab4259d.js"><link rel="prefetch" href="/assets/js/184.f55d5e8d.js"><link rel="prefetch" href="/assets/js/185.6060307a.js"><link rel="prefetch" href="/assets/js/186.8e82cbbc.js"><link rel="prefetch" href="/assets/js/187.da2ac555.js"><link rel="prefetch" href="/assets/js/188.8a5b9ac6.js"><link rel="prefetch" href="/assets/js/189.a25c8e83.js"><link rel="prefetch" href="/assets/js/19.5740e4d6.js"><link rel="prefetch" href="/assets/js/190.f1480d99.js"><link rel="prefetch" href="/assets/js/191.643449ea.js"><link rel="prefetch" href="/assets/js/192.4fe0b1f6.js"><link rel="prefetch" href="/assets/js/193.346c93a4.js"><link rel="prefetch" href="/assets/js/194.8d2b6d0a.js"><link rel="prefetch" href="/assets/js/195.8e63d41f.js"><link rel="prefetch" href="/assets/js/196.3a56ef5a.js"><link rel="prefetch" href="/assets/js/197.f6262af5.js"><link rel="prefetch" href="/assets/js/198.1c5e2efa.js"><link rel="prefetch" href="/assets/js/199.b686315e.js"><link rel="prefetch" href="/assets/js/20.8885a4fa.js"><link rel="prefetch" href="/assets/js/200.d58dba18.js"><link rel="prefetch" href="/assets/js/201.55769dc9.js"><link rel="prefetch" href="/assets/js/202.5dfb8f47.js"><link rel="prefetch" href="/assets/js/203.2a94642e.js"><link rel="prefetch" href="/assets/js/204.af67052e.js"><link rel="prefetch" href="/assets/js/205.f4701a1e.js"><link rel="prefetch" href="/assets/js/206.ce17973f.js"><link rel="prefetch" href="/assets/js/207.ffbb2326.js"><link rel="prefetch" href="/assets/js/208.fe5cce7d.js"><link rel="prefetch" href="/assets/js/209.3d5461ca.js"><link rel="prefetch" href="/assets/js/21.2a33c70e.js"><link rel="prefetch" href="/assets/js/210.4b56fcd6.js"><link rel="prefetch" href="/assets/js/211.c38f8ff4.js"><link rel="prefetch" href="/assets/js/212.7d86864a.js"><link rel="prefetch" href="/assets/js/213.e049051e.js"><link rel="prefetch" href="/assets/js/214.1e4f0e37.js"><link rel="prefetch" href="/assets/js/215.a59d083d.js"><link rel="prefetch" href="/assets/js/216.93e58817.js"><link rel="prefetch" href="/assets/js/217.e2a84eed.js"><link rel="prefetch" href="/assets/js/218.5b158b9c.js"><link rel="prefetch" href="/assets/js/219.5a5ab6e8.js"><link rel="prefetch" href="/assets/js/22.3e8347a6.js"><link rel="prefetch" href="/assets/js/220.d0bca91e.js"><link rel="prefetch" href="/assets/js/221.3b84eeea.js"><link rel="prefetch" href="/assets/js/222.4ff2fe1f.js"><link rel="prefetch" href="/assets/js/223.20f244bc.js"><link rel="prefetch" href="/assets/js/224.715797fe.js"><link rel="prefetch" href="/assets/js/225.66205fac.js"><link rel="prefetch" href="/assets/js/226.42f68352.js"><link rel="prefetch" href="/assets/js/227.3f68b4d9.js"><link rel="prefetch" href="/assets/js/228.932e0af2.js"><link rel="prefetch" href="/assets/js/229.1f768464.js"><link rel="prefetch" href="/assets/js/23.ceb5a5ff.js"><link rel="prefetch" href="/assets/js/230.4030f720.js"><link rel="prefetch" href="/assets/js/231.15359aca.js"><link rel="prefetch" href="/assets/js/232.d4eb27e8.js"><link rel="prefetch" href="/assets/js/233.584aa265.js"><link rel="prefetch" href="/assets/js/234.8091132a.js"><link rel="prefetch" href="/assets/js/235.d52933ad.js"><link rel="prefetch" href="/assets/js/236.b3d1b515.js"><link rel="prefetch" href="/assets/js/237.78775748.js"><link rel="prefetch" href="/assets/js/238.f6f3b6ad.js"><link rel="prefetch" href="/assets/js/239.ce32c57f.js"><link rel="prefetch" href="/assets/js/24.37a73dba.js"><link rel="prefetch" href="/assets/js/240.4f01daed.js"><link rel="prefetch" href="/assets/js/241.a03dc322.js"><link rel="prefetch" href="/assets/js/242.629c6a67.js"><link rel="prefetch" href="/assets/js/243.125d2a8a.js"><link rel="prefetch" href="/assets/js/244.39e88764.js"><link rel="prefetch" href="/assets/js/245.7bd6c0e0.js"><link rel="prefetch" href="/assets/js/246.3c33ce5e.js"><link rel="prefetch" href="/assets/js/247.2fa242fd.js"><link rel="prefetch" href="/assets/js/248.3413341b.js"><link rel="prefetch" href="/assets/js/249.374934a0.js"><link rel="prefetch" href="/assets/js/25.15e1f641.js"><link rel="prefetch" href="/assets/js/250.dd92cb75.js"><link rel="prefetch" href="/assets/js/251.643b2a2a.js"><link rel="prefetch" href="/assets/js/252.3177d975.js"><link rel="prefetch" href="/assets/js/253.53301feb.js"><link rel="prefetch" href="/assets/js/254.1c55d225.js"><link rel="prefetch" href="/assets/js/255.f8d3dbe5.js"><link rel="prefetch" href="/assets/js/256.d9723275.js"><link rel="prefetch" href="/assets/js/257.d451f1c6.js"><link rel="prefetch" href="/assets/js/258.07e08aa4.js"><link rel="prefetch" href="/assets/js/259.4ddb3e85.js"><link rel="prefetch" href="/assets/js/26.35b2bbdc.js"><link rel="prefetch" href="/assets/js/260.1c368b8e.js"><link rel="prefetch" href="/assets/js/261.ad903770.js"><link rel="prefetch" href="/assets/js/262.e424dac7.js"><link rel="prefetch" href="/assets/js/263.89a23ba2.js"><link rel="prefetch" href="/assets/js/264.142ebb90.js"><link rel="prefetch" href="/assets/js/265.f507df57.js"><link rel="prefetch" href="/assets/js/266.6a404dde.js"><link rel="prefetch" href="/assets/js/267.a719176f.js"><link rel="prefetch" href="/assets/js/268.4cf72b33.js"><link rel="prefetch" href="/assets/js/269.61969dea.js"><link rel="prefetch" href="/assets/js/27.856f7224.js"><link rel="prefetch" href="/assets/js/270.cce5d388.js"><link rel="prefetch" href="/assets/js/271.c237b14f.js"><link rel="prefetch" href="/assets/js/272.6636dfc2.js"><link rel="prefetch" href="/assets/js/273.9f8f654d.js"><link rel="prefetch" href="/assets/js/274.759cfd8b.js"><link rel="prefetch" href="/assets/js/275.b746df48.js"><link rel="prefetch" href="/assets/js/276.c3a49c80.js"><link rel="prefetch" href="/assets/js/277.421862c4.js"><link rel="prefetch" href="/assets/js/278.b1fa9606.js"><link rel="prefetch" href="/assets/js/279.d8377872.js"><link rel="prefetch" href="/assets/js/28.97524a83.js"><link rel="prefetch" href="/assets/js/280.86b7781c.js"><link rel="prefetch" href="/assets/js/281.cabb84d0.js"><link rel="prefetch" href="/assets/js/282.c6250091.js"><link rel="prefetch" href="/assets/js/283.7709620d.js"><link rel="prefetch" href="/assets/js/284.fee22272.js"><link rel="prefetch" href="/assets/js/285.1cd37c6e.js"><link rel="prefetch" href="/assets/js/286.3564e35e.js"><link rel="prefetch" href="/assets/js/287.de9edc4b.js"><link rel="prefetch" href="/assets/js/288.e1759ffb.js"><link rel="prefetch" href="/assets/js/289.f6a1ef05.js"><link rel="prefetch" href="/assets/js/29.b56bf1c9.js"><link rel="prefetch" href="/assets/js/290.da76dd9a.js"><link rel="prefetch" href="/assets/js/291.489a70b0.js"><link rel="prefetch" href="/assets/js/292.44338cdb.js"><link rel="prefetch" href="/assets/js/293.88f97864.js"><link rel="prefetch" href="/assets/js/294.a8883b4c.js"><link rel="prefetch" href="/assets/js/295.f3159d53.js"><link rel="prefetch" href="/assets/js/296.7fd5867e.js"><link rel="prefetch" href="/assets/js/297.8b1a1df4.js"><link rel="prefetch" href="/assets/js/298.ec22f433.js"><link rel="prefetch" href="/assets/js/299.f2c9ab92.js"><link rel="prefetch" href="/assets/js/3.4dc033c7.js"><link rel="prefetch" href="/assets/js/30.ce250a73.js"><link rel="prefetch" href="/assets/js/300.d66d9d72.js"><link rel="prefetch" href="/assets/js/301.8e3b99ac.js"><link rel="prefetch" href="/assets/js/302.a43e5cbf.js"><link rel="prefetch" href="/assets/js/303.63a61d77.js"><link rel="prefetch" href="/assets/js/304.6a672111.js"><link rel="prefetch" href="/assets/js/305.e2eadb96.js"><link rel="prefetch" href="/assets/js/306.70dc2992.js"><link rel="prefetch" href="/assets/js/307.25d7eb07.js"><link rel="prefetch" href="/assets/js/308.750e85f0.js"><link rel="prefetch" href="/assets/js/309.34b58ca8.js"><link rel="prefetch" href="/assets/js/31.eb4066e8.js"><link rel="prefetch" href="/assets/js/310.d2e66bd4.js"><link rel="prefetch" href="/assets/js/311.ebb9500e.js"><link rel="prefetch" href="/assets/js/312.95135be4.js"><link rel="prefetch" href="/assets/js/313.420a199d.js"><link rel="prefetch" href="/assets/js/314.0a9668de.js"><link rel="prefetch" href="/assets/js/315.0b59bf7b.js"><link rel="prefetch" href="/assets/js/316.a34aa12f.js"><link rel="prefetch" href="/assets/js/317.65da6a7f.js"><link rel="prefetch" href="/assets/js/318.7c2e6616.js"><link rel="prefetch" href="/assets/js/319.e5fa3ee0.js"><link rel="prefetch" href="/assets/js/32.3b8c0569.js"><link rel="prefetch" href="/assets/js/320.87a0ebfb.js"><link rel="prefetch" href="/assets/js/321.460962b0.js"><link rel="prefetch" href="/assets/js/322.ab72e971.js"><link rel="prefetch" href="/assets/js/323.b60ba709.js"><link rel="prefetch" href="/assets/js/324.d17747bd.js"><link rel="prefetch" href="/assets/js/325.283c0e75.js"><link rel="prefetch" href="/assets/js/326.a7663b5e.js"><link rel="prefetch" href="/assets/js/327.cee8c0ae.js"><link rel="prefetch" href="/assets/js/328.8b7b75e1.js"><link rel="prefetch" href="/assets/js/329.fcb67c66.js"><link rel="prefetch" href="/assets/js/33.d9da5e67.js"><link rel="prefetch" href="/assets/js/330.af5c892b.js"><link rel="prefetch" href="/assets/js/331.f9ef34ca.js"><link rel="prefetch" href="/assets/js/332.1efe74f0.js"><link rel="prefetch" href="/assets/js/333.2dd2b747.js"><link rel="prefetch" href="/assets/js/334.1a3fb4b6.js"><link rel="prefetch" href="/assets/js/335.f853618a.js"><link rel="prefetch" href="/assets/js/336.e66492bd.js"><link rel="prefetch" href="/assets/js/337.18d3d04b.js"><link rel="prefetch" href="/assets/js/338.5351c31c.js"><link rel="prefetch" href="/assets/js/339.e62f6e5c.js"><link rel="prefetch" href="/assets/js/34.3f001d28.js"><link rel="prefetch" href="/assets/js/340.462f3e04.js"><link rel="prefetch" href="/assets/js/341.458720c6.js"><link rel="prefetch" href="/assets/js/342.dba6e022.js"><link rel="prefetch" href="/assets/js/343.1dc593a2.js"><link rel="prefetch" href="/assets/js/344.fa4567f3.js"><link rel="prefetch" href="/assets/js/345.8a67dce6.js"><link rel="prefetch" href="/assets/js/346.f2f1f49b.js"><link rel="prefetch" href="/assets/js/347.85fd65fd.js"><link rel="prefetch" href="/assets/js/348.81648103.js"><link rel="prefetch" href="/assets/js/349.c72215ea.js"><link rel="prefetch" href="/assets/js/35.7e3caf0a.js"><link rel="prefetch" href="/assets/js/36.bf8759bd.js"><link rel="prefetch" href="/assets/js/37.0d96c664.js"><link rel="prefetch" href="/assets/js/38.445f76fb.js"><link rel="prefetch" href="/assets/js/39.4ad4205c.js"><link rel="prefetch" href="/assets/js/4.2f502b73.js"><link rel="prefetch" href="/assets/js/40.3fd1d536.js"><link rel="prefetch" href="/assets/js/41.e91a4d65.js"><link rel="prefetch" href="/assets/js/42.5d250013.js"><link rel="prefetch" href="/assets/js/43.01b76a60.js"><link rel="prefetch" href="/assets/js/44.d9d6e140.js"><link rel="prefetch" href="/assets/js/45.04721ad1.js"><link rel="prefetch" href="/assets/js/46.99baeaf0.js"><link rel="prefetch" href="/assets/js/47.d94c7cf2.js"><link rel="prefetch" href="/assets/js/48.54718843.js"><link rel="prefetch" href="/assets/js/49.ccfa88b0.js"><link rel="prefetch" href="/assets/js/5.7b1f056c.js"><link rel="prefetch" href="/assets/js/50.06896d05.js"><link rel="prefetch" href="/assets/js/51.0dcc2f22.js"><link rel="prefetch" href="/assets/js/52.c71f8059.js"><link rel="prefetch" href="/assets/js/53.6754431d.js"><link rel="prefetch" href="/assets/js/54.1ce27de3.js"><link rel="prefetch" href="/assets/js/55.77ff0a1f.js"><link rel="prefetch" href="/assets/js/56.21579649.js"><link rel="prefetch" href="/assets/js/57.53ae7ef6.js"><link rel="prefetch" href="/assets/js/58.bc7c276e.js"><link rel="prefetch" href="/assets/js/59.035981a4.js"><link rel="prefetch" href="/assets/js/6.056886f1.js"><link rel="prefetch" href="/assets/js/60.872f97f3.js"><link rel="prefetch" href="/assets/js/61.af467b52.js"><link rel="prefetch" href="/assets/js/62.d804cb8b.js"><link rel="prefetch" href="/assets/js/63.2a170868.js"><link rel="prefetch" href="/assets/js/64.7b4f75f3.js"><link rel="prefetch" href="/assets/js/65.784e37eb.js"><link rel="prefetch" href="/assets/js/66.84efb291.js"><link rel="prefetch" href="/assets/js/67.8af76831.js"><link rel="prefetch" href="/assets/js/68.57018fb7.js"><link rel="prefetch" href="/assets/js/69.9b067551.js"><link rel="prefetch" href="/assets/js/7.a96cecf9.js"><link rel="prefetch" href="/assets/js/70.a0266b20.js"><link rel="prefetch" href="/assets/js/71.f27538a7.js"><link rel="prefetch" href="/assets/js/72.dc82cec0.js"><link rel="prefetch" href="/assets/js/73.f50a19a2.js"><link rel="prefetch" href="/assets/js/74.fa68a686.js"><link rel="prefetch" href="/assets/js/75.f1a5af6f.js"><link rel="prefetch" href="/assets/js/76.568e5088.js"><link rel="prefetch" href="/assets/js/77.5603d554.js"><link rel="prefetch" href="/assets/js/78.f6052b85.js"><link rel="prefetch" href="/assets/js/79.b499e718.js"><link rel="prefetch" href="/assets/js/80.9fb2b91c.js"><link rel="prefetch" href="/assets/js/81.d95c5673.js"><link rel="prefetch" href="/assets/js/82.b9789c9a.js"><link rel="prefetch" href="/assets/js/83.dfc9a274.js"><link rel="prefetch" href="/assets/js/84.8cf01162.js"><link rel="prefetch" href="/assets/js/85.09eef361.js"><link rel="prefetch" href="/assets/js/86.70c78824.js"><link rel="prefetch" href="/assets/js/87.c292cf28.js"><link rel="prefetch" href="/assets/js/88.16a907dd.js"><link rel="prefetch" href="/assets/js/89.3ab18e80.js"><link rel="prefetch" href="/assets/js/90.b3fb9023.js"><link rel="prefetch" href="/assets/js/91.3b42446c.js"><link rel="prefetch" href="/assets/js/92.3113eb88.js"><link rel="prefetch" href="/assets/js/93.d2e6fcc3.js"><link rel="prefetch" href="/assets/js/95.264106cc.js"><link rel="prefetch" href="/assets/js/96.b96ffa21.js"><link rel="prefetch" href="/assets/js/97.54ba0653.js"><link rel="prefetch" href="/assets/js/98.d3cefa92.js"><link rel="prefetch" href="/assets/js/99.ab82cbc8.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.33b2b47d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.40c15e22.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="极光的编程宝典" class="logo"> <span class="site-name can-hide">极光的编程宝典</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/html学习/" class="nav-link">
  HTML教程
</a></div><div class="nav-item"><a href="/javascript学习/" class="nav-link">
  JavaScript教程
</a></div><div class="nav-item"><a href="/ES6学习/" class="nav-link">
  ES6教程
</a></div><div class="nav-item"><a href="/TypeScript学习/" class="nav-link">
  TypeScript教程
</a></div><div class="nav-item"><a href="/WebAPI学习/" class="nav-link">
  Web API 教程
</a></div><div class="nav-item"><a href="/c语言学习/" class="nav-link">
  C语言教程
</a></div><div class="nav-item"><a href="/Bash学习/" class="nav-link">
  Bash 教程
</a></div><div class="nav-item"><a href="/SSH学习/" class="nav-link">
  SSH 教程
</a></div><div class="nav-item"><a href="/项目推荐/" class="nav-link">
  项目推荐
</a></div><div class="nav-item"><a href="/技术书籍/" class="nav-link">
  技术书籍
</a></div> <a href="https://github.com/springsongs/springsongs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/html学习/" class="nav-link">
  HTML教程
</a></div><div class="nav-item"><a href="/javascript学习/" class="nav-link">
  JavaScript教程
</a></div><div class="nav-item"><a href="/ES6学习/" class="nav-link">
  ES6教程
</a></div><div class="nav-item"><a href="/TypeScript学习/" class="nav-link">
  TypeScript教程
</a></div><div class="nav-item"><a href="/WebAPI学习/" class="nav-link">
  Web API 教程
</a></div><div class="nav-item"><a href="/c语言学习/" class="nav-link">
  C语言教程
</a></div><div class="nav-item"><a href="/Bash学习/" class="nav-link">
  Bash 教程
</a></div><div class="nav-item"><a href="/SSH学习/" class="nav-link">
  SSH 教程
</a></div><div class="nav-item"><a href="/项目推荐/" class="nav-link">
  项目推荐
</a></div><div class="nav-item"><a href="/技术书籍/" class="nav-link">
  技术书籍
</a></div> <a href="https://github.com/springsongs/springsongs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/ssh%E5%AD%A6%E4%B9%A0/" class="sidebar-link">免费SSH学习</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>SSH学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/_1-ssh-%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/" class="sidebar-link">SSH 基本知识</a></li><li><a href="/_2-ssh-%E5%AE%A2%E6%88%B7%E7%AB%AF/" class="sidebar-link">SSH 客户端</a></li><li><a href="/_3-ssh-%E5%AF%86%E9%92%A5%E7%99%BB%E5%BD%95/" class="sidebar-link">SSH 密钥登录</a></li><li><a href="/_4-ssh-%E6%9C%8D%E5%8A%A1%E5%99%A8/" aria-current="page" class="active sidebar-link">SSH 服务器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/_4-ssh-%E6%9C%8D%E5%8A%A1%E5%99%A8/#简介" class="sidebar-link">简介</a></li><li class="sidebar-sub-header"><a href="/_4-ssh-%E6%9C%8D%E5%8A%A1%E5%99%A8/#sshd-配置文件" class="sidebar-link">sshd 配置文件</a></li><li class="sidebar-sub-header"><a href="/_4-ssh-%E6%9C%8D%E5%8A%A1%E5%99%A8/#sshd-密钥" class="sidebar-link">sshd 密钥</a></li><li class="sidebar-sub-header"><a href="/_4-ssh-%E6%9C%8D%E5%8A%A1%E5%99%A8/#sshd-配置项" class="sidebar-link">sshd 配置项</a></li><li class="sidebar-sub-header"><a href="/_4-ssh-%E6%9C%8D%E5%8A%A1%E5%99%A8/#sshd-的命令行配置项" class="sidebar-link">sshd 的命令行配置项</a></li></ul></li><li><a href="/_5-ssh-%E6%97%A5%E5%BF%97/" class="sidebar-link">SSH 日志</a></li><li><a href="/_6-ssh-%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/" class="sidebar-link">SSH 端口转发</a></li><li><a href="/_7-ssh-%E8%AF%81%E4%B9%A6%E7%99%BB%E5%BD%95/" class="sidebar-link">SSH 证书登录</a></li><li><a href="/_8-ssh-scp%E5%91%BD%E4%BB%A4/" class="sidebar-link">scp 命令</a></li><li><a href="/_9-ssh-rsync-%E5%91%BD%E4%BB%A4/" class="sidebar-link">rsync 命令</a></li><li><a href="/_10-ssh-sftp%E5%91%BD%E4%BB%A4/" class="sidebar-link">sftp 命令</a></li><li><a href="/_11-ssh-fail2ban%E6%95%99%E7%A8%8B/" class="sidebar-link">Fail2Ban 教程</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content"><div style="width:100%"><div class="theme-default-content custom-content content__default"><h1 id="ssh-服务器"><a href="#ssh-服务器" class="header-anchor">#</a> SSH 服务器</h1> <blockquote><p>作者：<a href="https://wangdoc.com/" target="_blank" rel="noopener noreferrer">来自网道项目<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>本站地址：<a href="http://springsongs.cn" target="_blank" rel="noopener noreferrer">http://springsongs.cn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h2> <p>SSH 的架构是服务器/客户端模式，两端运行的软件是不一样的。OpenSSH 的客户端软件是 ssh，服务器软件是 sshd。本章介绍 sshd 的各种知识。</p> <p>如果没有安装 sshd，可以用下面的命令安装。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Debian</span>
$ <span class="token function">sudo</span> <span class="token function">aptitude</span> <span class="token function">install</span> openssh-server

<span class="token comment"># Red Hat</span>
$ <span class="token function">sudo</span> yum <span class="token function">install</span> openssh-server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>一般来说，sshd 安装后会跟着系统一起启动。如果当前 sshd 没有启动，可以用下面的命令启动。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ sshd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面的命令运行后，如果提示“sshd re-exec requires execution with an absolute path”，就需要使用绝对路径来启动。这是为了防止有人出于各种目的，放置同名软件在<code>$PATH</code>变量指向的目录中，代替真正的 sshd。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Centos、Ubuntu、OS X</span>
$ /usr/sbin/sshd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面的命令运行以后，sshd 自动进入后台，所以命令后面不需要加上<code>&amp;</code>。</p> <p>除了直接运行可执行文件，也可以通过 Systemd 启动 sshd。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 启动</span>
$ <span class="token function">sudo</span> systemctl start sshd.service

<span class="token comment"># 停止</span>
$ <span class="token function">sudo</span> systemctl stop sshd.service

<span class="token comment"># 重启</span>
$ <span class="token function">sudo</span> systemctl restart sshd.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>下面的命令让 sshd 在计算机下次启动时自动运行。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> sshd.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="sshd-配置文件"><a href="#sshd-配置文件" class="header-anchor">#</a> sshd 配置文件</h2> <p>sshd 的配置文件在<code>/etc/ssh</code>目录，主配置文件是<code>sshd_config</code>，此外还有一些安装时生成的密钥。</p> <ul><li><code>/etc/ssh/sshd_config</code>：配置文件</li> <li><code>/etc/ssh/ssh_host_ecdsa_key</code>：ECDSA 私钥。</li> <li><code>/etc/ssh/ssh_host_ecdsa_key.pub</code>：ECDSA 公钥。</li> <li><code>/etc/ssh/ssh_host_key</code>：用于 SSH 1 协议版本的 RSA 私钥。</li> <li><code>/etc/ssh/ssh_host_key.pub</code>：用于 SSH 1 协议版本的 RSA 公钥。</li> <li><code>/etc/ssh/ssh_host_rsa_key</code>：用于 SSH 2 协议版本的 RSA 私钥。</li> <li><code>/etc/ssh/ssh_host_rsa_key.pub</code>：用于 SSH 2 协议版本的 RSA 公钥。</li> <li><code>/etc/pam.d/sshd</code>：PAM 配置文件。</li></ul> <p>注意，如果重装 sshd，上面这些密钥都会重新生成，导致客户端重新连接 ssh 服务器时，会跳出警告，拒绝连接。为了避免这种情况，可以在重装 sshd 时，先备份<code>/etc/ssh</code>目录，重装后再恢复这个目录。</p> <p>配置文件<code>sshd_config</code>的格式是，每个命令占据一行。每行都是配置项和对应的值，配置项的大小写不敏感，与值之间使用空格分隔。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>Port <span class="token number">2034</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面的配置命令指定，配置项<code>Port</code>的值是<code>2034</code>。<code>Port</code>写成<code>port</code>也可。</p> <p>配置文件还有另一种格式，就是配置项与值之间有一个等号，等号前后的空格可选。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>Port <span class="token operator">=</span> <span class="token number">2034</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>配置文件里面，<code>#</code>开头的行表示注释。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 这是一行注释</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注意，注释只能放在一行的开头，不能放在一行的结尾。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>Port <span class="token number">2034</span> <span class="token comment"># 此处不允许注释</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面的写法是错误的。</p> <p>另外，空行等同于注释。</p> <p>sshd 启动时会自动读取默认的配置文件。如果希望使用其他的配置文件，可以用 sshd 命令的<code>-f</code>参数指定。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ sshd <span class="token parameter variable">-f</span> /usr/local/ssh/my_config
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面的命令指定 sshd 使用另一个配置文件<code>my_config</code>。</p> <p>修改配置文件以后，可以用 sshd 命令的<code>-t</code>（test）检查有没有语法错误。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ sshd <span class="token parameter variable">-t</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>配置文件修改以后，并不会自动生效，必须重新启动 sshd。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> systemctl restart sshd.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="sshd-密钥"><a href="#sshd-密钥" class="header-anchor">#</a> sshd 密钥</h2> <p>sshd 有自己的一对或多对密钥。它使用密钥向客户端证明自己的身份。所有密钥都是公钥和私钥成对出现，公钥的文件名一般是私钥文件名加上后缀<code>.pub</code>。</p> <p>DSA 格式的密钥文件默认为<code>/etc/ssh/ssh_host_dsa_key</code>（公钥为<code>ssh_host_dsa_key.pub</code>），RSA 格式的密钥为<code>/etc/ssh/ssh_host_rsa_key</code>（公钥为<code>ssh_host_rsa_key.pub</code>）。如果需要支持 SSH 1 协议，则必须有密钥<code>/etc/ssh/ssh_host_key</code>。</p> <p>如果密钥不是默认文件，那么可以通过配置文件<code>sshd_config</code>的<code>HostKey</code>配置项指定。默认密钥的<code>HostKey</code>设置如下。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># HostKey for protocol version 1</span>
<span class="token comment"># HostKey /etc/ssh/ssh_host_key</span>

<span class="token comment"># HostKeys for protocol version 2</span>
<span class="token comment"># HostKey /etc/ssh/ssh_host_rsa_key</span>
<span class="token comment"># HostKey /etc/ssh/ssh_host_dsa_ke</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>上面命令前面的<code>#</code>表示这些行都是注释，因为这是默认值，有没有这几行都一样。</p> <p>如果要修改密钥，就要去掉行首的<code>#</code>，指定其他密钥。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>HostKey /usr/local/ssh/my_dsa_key
HostKey /usr/local/ssh/my_rsa_key
HostKey /usr/local/ssh/my_old_ssh1_key
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="sshd-配置项"><a href="#sshd-配置项" class="header-anchor">#</a> sshd 配置项</h2> <p>以下是<code>/etc/ssh/sshd_config</code>文件里面的配置项。</p> <p><strong>AcceptEnv</strong></p> <p><code>AcceptEnv</code>指定允许接受客户端通过<code>SendEnv</code>命令发来的哪些环境变量，即允许客户端设置服务器的环境变量清单，变量名之间使用空格分隔（<code>AcceptEnv PATH TERM</code>）。</p> <p><strong>AllowGroups</strong></p> <p><code>AllowGroups</code>指定允许登录的用户组（<code>AllowGroups groupName</code>，多个组之间用空格分隔。如果不使用该项，则允许所有用户组登录。</p> <p><strong>AllowUsers</strong></p> <p><code>AllowUsers</code>指定允许登录的用户，用户名之间使用空格分隔（<code>AllowUsers user1 user2</code>），也可以使用多行<code>AllowUsers</code>命令指定，用户名支持使用通配符。如果不使用该项，则允许所有用户登录。该项也可以使用<code>用户名@域名</code>的格式（比如<code>AllowUsers jones@example.com</code>）。</p> <p><strong>AllowTcpForwarding</strong></p> <p><code>AllowTcpForwarding</code>指定是否允许端口转发，默认值为<code>yes</code>（<code>AllowTcpForwarding yes</code>），<code>local</code>表示只允许本地端口转发，<code>remote</code>表示只允许远程端口转发。</p> <p><strong>AuthorizedKeysFile</strong></p> <p><code>AuthorizedKeysFile</code>指定储存用户公钥的目录，默认是用户主目录的<code>ssh/authorized_keys</code>目录（<code>AuthorizedKeysFile .ssh/authorized_keys</code>）。</p> <p><strong>Banner</strong></p> <p><code>Banner</code>指定用户登录后，sshd 向其展示的信息文件（<code>Banner /usr/local/etc/warning.txt</code>），默认不展示任何内容。</p> <p><strong>ChallengeResponseAuthentication</strong></p> <p><code>ChallengeResponseAuthentication</code>指定是否使用“键盘交互”身份验证方案，默认值为<code>yes</code>（<code>ChallengeResponseAuthentication yes</code>）。</p> <p>从理论上讲，“键盘交互”身份验证方案可以向用户询问多重问题，但是实践中，通常仅询问用户密码。如果要完全禁用基于密码的身份验证，请将<code>PasswordAuthentication</code>和<code>ChallengeResponseAuthentication</code>都设置为<code>no</code>。</p> <p><strong>Ciphers</strong></p> <p><code>Ciphers</code>指定 sshd 可以接受的加密算法（<code>Ciphers 3des-cbc</code>），多个算法之间使用逗号分隔。</p> <p><strong>ClientAliveCountMax</strong></p> <p><code>ClientAliveCountMax</code>指定建立连接后，客户端失去响应时（超过指定时间，没有收到任何消息），服务器尝试连接（发送消息）的次数（<code>ClientAliveCountMax 8</code>）。</p> <p><strong>ClientAliveInterval</strong></p> <p><code>ClientAliveInterval</code>指定允许客户端发呆的时间，单位为秒（<code>ClientAliveInterval 180</code>）。超过这个时间，服务器将发送消息以请求客户端的响应。如果为<code>0</code>，表示不向客户端发送消息，即连接不会自动断开。</p> <p><strong>Compression</strong></p> <p><code>Compression</code>指定客户端与服务器之间的数据传输是否压缩。默认值为<code>yes</code>（<code>Compression yes</code>）</p> <p><strong>DenyGroups</strong></p> <p><code>DenyGroups</code>指定不允许登录的用户组（<code>DenyGroups groupName</code>）。</p> <p><strong>DenyUsers</strong></p> <p><code>DenyUsers</code>指定不允许登录的用户（<code>DenyUsers user1</code>），用户名之间使用空格分隔，也可以使用多行<code>DenyUsers</code>命令指定。</p> <p><strong>FascistLogging</strong></p> <p>SSH 1 版本专用，指定日志输出全部 Debug 信息（<code>FascistLogging yes</code>）。</p> <p><strong>HostKey</strong></p> <p><code>HostKey</code>指定 sshd 服务器的密钥，详见前文。</p> <p><strong>KeyRegenerationInterval</strong></p> <p><code>KeyRegenerationInterval</code>指定 SSH 1 版本的密钥重新生成时间间隔，单位为秒，默认是3600秒（<code>KeyRegenerationInterval 3600</code>）。</p> <p><strong>ListenAddress</strong></p> <p><code>ListenAddress</code>指定 sshd 监听的本机 IP 地址，即 sshd 启用的 IP 地址，默认是 0.0.0.0（<code>ListenAddress 0.0.0.0</code>）表示在本机所有网络接口启用。可以改成只在某个网络接口启用（比如<code>ListenAddress 192.168.10.23</code>），也可以指定某个域名启用（比如<code>ListenAddress server.example.com</code>）。</p> <p>如果要监听多个指定的 IP 地址，可以使用多行<code>ListenAddress</code>命令。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ListenAddress <span class="token number">172.16</span>.1.1
ListenAddress <span class="token number">192.168</span>.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>LoginGraceTime</strong></p> <p><code>LoginGraceTime</code>指定允许客户端登录时发呆的最长时间，比如用户迟迟不输入密码，连接就会自动断开，单位为秒（<code>LoginGraceTime 60</code>）。如果设为<code>0</code>，就表示没有限制。</p> <p><strong>LogLevel</strong></p> <p><code>LogLevel</code>指定日志的详细程度，可能的值依次为<code>QUIET</code>、<code>FATAL</code>、<code>ERROR</code>、<code>INFO</code>、<code>VERBOSE</code>、<code>DEBUG</code>、<code>DEBUG1</code>、<code>DEBUG2</code>、<code>DEBUG3</code>，默认为<code>INFO</code>（<code>LogLevel INFO</code>）。</p> <p><strong>MACs</strong></p> <p><code>MACs</code>指定sshd 可以接受的数据校验算法（<code>MACs hmac-sha1</code>），多个算法之间使用逗号分隔。</p> <p><strong>MaxAuthTries</strong></p> <p><code>MaxAuthTries</code>指定允许 SSH 登录的最大尝试次数（<code>MaxAuthTries 3</code>），如果密码输入错误达到指定次数，SSH 连接将关闭。</p> <p><strong>MaxStartups</strong></p> <p><code>MaxStartups</code>指定允许同时并发的 SSH 连接数量（MaxStartups）。如果设为<code>0</code>，就表示没有限制。</p> <p>这个属性也可以设为<code>A:B:C</code>的形式，比如<code>MaxStartups 10:50:20</code>，表示如果达到10个并发连接，后面的连接将有50%的概率被拒绝；如果达到20个并发连接，则后面的连接将100%被拒绝。</p> <p><strong>PasswordAuthentication</strong></p> <p><code>PasswordAuthentication</code>指定是否允许密码登录，默认值为<code>yes</code>（<code>PasswordAuthentication yes</code>），建议改成<code>no</code>（禁止密码登录，只允许密钥登录）。</p> <p><strong>PermitEmptyPasswords</strong></p> <p><code>PermitEmptyPasswords</code>指定是否允许空密码登录，即用户的密码是否可以为空，默认为<code>yes</code>（<code>PermitEmptyPasswords yes</code>），建议改成<code>no</code>（禁止无密码登录）。</p> <p><strong>PermitRootLogin</strong></p> <p><code>PermitRootLogin</code>指定是否允许根用户登录，默认为<code>yes</code>（<code>PermitRootLogin yes</code>），建议改成<code>no</code>（禁止根用户登录）。</p> <p>还有一种写法是写成<code>prohibit-password</code>，表示 root 用户不能用密码登录，但是可以用密钥登录。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>PermitRootLogin prohibit-password
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>PermitUserEnvironment</strong></p> <p><code>PermitUserEnvironment</code>指定是否允许 sshd 加载客户端的<code>~/.ssh/environment</code>文件和<code>~/.ssh/authorized_keys</code>文件里面的<code>environment= options</code>环境变量设置。默认值为<code>no</code>（<code>PermitUserEnvironment no</code>）。</p> <p><strong>Port</strong></p> <p><code>Port</code>指定 sshd 监听的端口，即客户端连接的端口，默认是22（<code>Port 22</code>）。出于安全考虑，可以改掉这个端口（比如<code>Port 8822</code>）。</p> <p>配置文件可以使用多个<code>Port</code>命令，同时监听多个端口。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>Port <span class="token number">22</span>
Port <span class="token number">80</span>
Port <span class="token number">443</span>
Port <span class="token number">8080</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上面的示例表示同时监听4个端口。</p> <p><strong>PrintMotd</strong></p> <p><code>PrintMotd</code>指定用户登录后，是否向其展示系统的 motd（Message of the day）的信息文件<code>/etc/motd</code>。该文件用于通知所有用户一些重要事项，比如系统维护时间、安全问题等等。默认值为<code>yes</code>（<code>PrintMotd yes</code>），由于 Shell 一般会展示这个信息文件，所以这里可以改为<code>no</code>。</p> <p><strong>PrintLastLog</strong></p> <p><code>PrintLastLog</code>指定是否打印上一次用户登录时间，默认值为<code>yes</code>（<code>PrintLastLog yes</code>）。</p> <p><strong>Protocol</strong></p> <p><code>Protocol</code>指定 sshd 使用的协议。<code>Protocol 1</code>表示使用 SSH 1 协议，建议改成<code>Protocol 2</code>（使用 SSH 2 协议）。<code>Protocol 2,1</code>表示同时支持两个版本的协议。</p> <p><strong>PubkeyAuthentication</strong></p> <p><code>PubkeyAuthentication</code>指定是否允许公钥登录，默认值为<code>yes</code>（<code>PubkeyAuthentication yes</code>）。</p> <p><strong>QuietMode</strong></p> <p>SSH 1 版本专用，指定日志只输出致命的错误信息（<code>QuietMode yes</code>）。</p> <p><strong>RSAAuthentication</strong></p> <p><code>RSAAuthentication</code>指定允许 RSA 认证，默认值为<code>yes</code>（<code>RSAAuthentication yes</code>）。</p> <p><strong>ServerKeyBits</strong></p> <p><code>ServerKeyBits</code>指定 SSH 1 版本的密钥重新生成时的位数，默认是768（<code>ServerKeyBits 768</code>）。</p> <p><strong>StrictModes</strong></p> <p><code>StrictModes</code>指定 sshd 是否检查用户的一些重要文件和目录的权限。默认为<code>yes</code>（<code>StrictModes yes</code>），即对于用户的 SSH 配置文件、密钥文件和所在目录，SSH 要求拥有者必须是根用户或用户本人，用户组和其他人的写权限必须关闭。</p> <p><strong>SyslogFacility</strong></p> <p><code>SyslogFacility</code>指定 Syslog 如何处理 sshd 的日志，默认是 Auth（<code>SyslogFacility AUTH</code>）。</p> <p><strong>TCPKeepAlive</strong></p> <p><code>TCPKeepAlive</code>指定系统是否应向客户端发送 TCP keepalive 消息（<code>TCPKeepAlive yes</code>）。</p> <p><strong>UseDNS</strong></p> <p><code>UseDNS</code>指定用户 SSH 登录一个域名时，服务器是否使用 DNS，确认该域名对应的 IP 地址包含本机（<code>UseDNS yes</code>）。打开该选项意义不大，而且如果 DNS 更新不及时，还有可能误判，建议关闭。</p> <p><strong>UseLogin</strong></p> <p><code>UseLogin</code>指定用户认证内部是否使用<code>/usr/bin/login</code>替代 SSH 工具，默认为<code>no</code>（<code>UseLogin no</code>）。</p> <p><strong>UserPrivilegeSeparation</strong></p> <p><code>UserPrivilegeSeparation</code>指定用户认证通过以后，使用另一个子线程处理用户权限相关的操作，这样有利于提高安全性。默认值为<code>yes</code>（<code>UsePrivilegeSeparation yes</code>）。</p> <p><strong>VerboseMode</strong></p> <p>SSH 2 版本专用，指定日志输出详细的 Debug 信息（<code>VerboseMode yes</code>）。</p> <p><strong>X11Forwarding</strong></p> <p><code>X11Forwarding</code>指定是否打开 X window 的转发，默认值为 no（<code>X11Forwarding no</code>）。</p> <p>修改配置文件以后，可以使用下面的命令验证，配置文件是否有语法错误。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ sshd <span class="token parameter variable">-t</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>新的配置文件生效，必须重启 sshd。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> systemctl restart sshd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="sshd-的命令行配置项"><a href="#sshd-的命令行配置项" class="header-anchor">#</a> sshd 的命令行配置项</h2> <p>sshd 命令有一些配置项。这些配置项在调用时指定，可以覆盖配置文件的设置。</p> <p>（1）<code>-d</code></p> <p><code>-d</code>参数用于显示 debug 信息。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ sshd <span class="token parameter variable">-d</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（2）<code>-D</code></p> <p><code>-D</code>参数指定 sshd 不作为后台守护进程运行。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ sshd <span class="token parameter variable">-D</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（3）<code>-e</code></p> <p><code>-e</code>参数将 sshd 写入系统日志 syslog 的内容导向标准错误（standard error）。</p> <p>（4）<code>-f</code></p> <p><code>-f</code>参数指定配置文件的位置。</p> <p>（5）<code>-h</code></p> <p><code>-h</code>参数用于指定密钥。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ sshd <span class="token parameter variable">-h</span> /usr/local/ssh/my_rsa_key
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（6）<code>-o</code></p> <p><code>-o</code>参数指定配置文件的一个配置项和对应的值。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ sshd <span class="token parameter variable">-o</span> <span class="token string">&quot;Port 2034&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>配置项和对应值之间，可以使用等号。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ sshd <span class="token parameter variable">-o</span> <span class="token string">&quot;Port = 2034&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果省略等号前后的空格，也可以不使用引号。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ sshd <span class="token parameter variable">-o</span> <span class="token assign-left variable">Port</span><span class="token operator">=</span><span class="token number">2034</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>-o</code>参数可以多个一起使用，用来指定多个配置关键字。</p> <p>（7）<code>-p</code></p> <p><code>-p</code>参数指定 sshd 的服务端口。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ sshd <span class="token parameter variable">-p</span> <span class="token number">2034</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面命令指定 sshd 在<code>2034</code>端口启动。</p> <p><code>-p</code>参数可以指定多个端口。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ sshd <span class="token parameter variable">-p</span> <span class="token number">2222</span> <span class="token parameter variable">-p</span> <span class="token number">3333</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（8）<code>-t</code></p> <p><code>-t</code>参数检查配置文件的语法是否正确。</p></div> <footer class="page-edit" style="margin:0;"><div class="edit-link"><a href="https://github.com/springsongs/springsongs/edit/master/SSH学习/4_SSH_服务器.md" target="_blank" rel="noopener noreferrer">完善页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">最近更新:</span> <span class="time">3/12/2025, 9:17:38 AM</span></div></footer> <!----></div> <div class="toc-container-sidebar"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:86vh"><div style="font-weight:bold;">SSH 服务器</div> <hr> <div class="toc-box"><ul class="toc-sidebar-links"><li><a href="/_4-ssh-%E6%9C%8D%E5%8A%A1%E5%99%A8/#简介" class="toc-sidebar-link">简介</a><ul class="toc-sidebar-sub-headers"></ul></li><li><a href="/_4-ssh-%E6%9C%8D%E5%8A%A1%E5%99%A8/#sshd-配置文件" class="toc-sidebar-link">sshd 配置文件</a><ul class="toc-sidebar-sub-headers"></ul></li><li><a href="/_4-ssh-%E6%9C%8D%E5%8A%A1%E5%99%A8/#sshd-密钥" class="toc-sidebar-link">sshd 密钥</a><ul class="toc-sidebar-sub-headers"></ul></li><li><a href="/_4-ssh-%E6%9C%8D%E5%8A%A1%E5%99%A8/#sshd-配置项" class="toc-sidebar-link">sshd 配置项</a><ul class="toc-sidebar-sub-headers"></ul></li><li><a href="/_4-ssh-%E6%9C%8D%E5%8A%A1%E5%99%A8/#sshd-的命令行配置项" class="toc-sidebar-link">sshd 的命令行配置项</a><ul class="toc-sidebar-sub-headers"></ul></li></ul></div></div></div></div></div>  <main class="footer"> <div class="copy-right"><span class="name"> 极光的编程宝典   |     </span> <a target="_blank" rel="noreferrer">
          
        </a> 
          |    
        </div></main></main> <aside class="page-sidebar"> <div class="page-side-toolbar"></div>  </aside></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.964c39ad.js" defer></script><script src="/assets/js/2.50e72a5a.js" defer></script><script src="/assets/js/94.db307d9a.js" defer></script>
  </body>
</html>
